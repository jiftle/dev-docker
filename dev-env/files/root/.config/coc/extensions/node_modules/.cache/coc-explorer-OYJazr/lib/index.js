!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=43)}([function(e,t){e.exports=require("coc.nvim")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(2);t.HlEscapeCode={left:e=>t.HlEscapeCode.leftBegin+e+t.HlEscapeCode.leftEnd,leftBegin:"",leftEnd:"",right:e=>t.HlEscapeCode.rightBegin+e+t.HlEscapeCode.rightEnd,rightBegin:"",rightEnd:""};class o{constructor(){this.nvim=r.workspace.nvim,this.highlights=[],this.concealableHighlightsVisible=new Map,this.concealableHighlights=[],this.requestedConcealableQueue=new Map}createMarkerID(){return o.maxMarkerID+=1,o.maxMarkerID}concealable(e){const n=`CocExplorerConcealable${e}`,r=this.createMarkerID(),{nvim:o}=this,s=`syntax match ${n} conceal /\\V${t.HlEscapeCode.left(r)}\\.\\*${t.HlEscapeCode.right(r)}/`,a=`syntax match ${n} conceal /\\V${t.HlEscapeCode.left(r)}\\|${t.HlEscapeCode.right(r)}/`,c=async(e=!1)=>{await i.execNotifyBlock(()=>{o.command(`silent! syntax clear ${n}`,!0),o.command(s,!0)},e)},l=async(e=!1)=>{await i.execNotifyBlock(()=>{o.command(`silent! syntax clear ${n}`,!0),o.command(a,!0)},e)},u={markerID:r,requestShow:()=>this.requestedConcealableQueue.set(n,{action:"show",handler:l}),requestHide:()=>this.requestedConcealableQueue.set(n,{action:"hide",handler:c})};return this.concealableHighlights.push(u),u}async emitRequestedConcealableRender(e,{notify:t=!1,force:n=!1}={}){if(this.requestedConcealableQueue.size<=0)return;const{nvim:o}=this,{mode:s}=await o.mode,a=await e.winnr,c=await o.call("winnr"),l=c!==a,u=Array.from(this.requestedConcealableQueue).filter(([e,t])=>{if(n||!this.concealableHighlightsVisible.has(e))return!0;const r=this.concealableHighlightsVisible.get(e);return"show"===t.action&&!r||"hide"===t.action&&r});this.requestedConcealableQueue.clear(),u.length&&a&&"n"===s&&(i.enableDebug&&r.workspace.showMessage(`Concealable Render ${u.length} (${Array.from(u.map(([e])=>e)).join(",")})`,"more"),await i.execNotifyBlock(async()=>{l&&(i.skipOnBufEnter(await o.eval(`[winbufnr(${a}), winbufnr(${c})]`)),o.command(`${a}wincmd w`,!0));for(const[e,t]of u)this.concealableHighlightsVisible.set(e,"show"===t.action),await t.handler(!0);l&&o.command(`${c}wincmd w`,!0)},t))}linkGroup(e,n){const r=`CocExplorer${e}`,i=this.createMarkerID(),o={group:r,commands:[`syntax region ${r} concealends matchgroup=${r}Marker start=/\\V${t.HlEscapeCode.left(i)}/ end=/\\V${t.HlEscapeCode.right(i)}/`,`highlight default link ${r} ${n}`],markerID:i};return this.highlights.push(o),o}group(e,n){const r=`CocExplorer${e}`,i=this.createMarkerID(),o={group:r,commands:[`syntax region ${r} concealends matchgroup=${r}Marker start=/\\V${t.HlEscapeCode.left(i)}/ end=/\\V${t.HlEscapeCode.right(i)}/`,`highlight default ${r} ${n}`],markerID:i};return this.highlights.push(o),o}async executeHighlightSyntax(e=!1){await i.execNotifyBlock(async()=>{const e=[];for(const t of this.highlights)this.nvim.command(`silent! syntax clear ${t.group}`,!0),e.push(...t.commands);this.nvim.call("coc_explorer#execute_syntax_highlights",[e],!0)},e)}}o.maxMarkerID=0,t.hlGroupManager=new o},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),s=i(n(10));r(n(44)),r(n(45)),r(n(46)),r(n(47)),r(n(24)),r(n(48)),r(n(49)),r(n(66)),r(n(67)),r(n(25)),r(n(68)),r(n(17)),r(n(32)),r(n(69)),t.outputChannel=o.workspace.createOutputChannel("explorer"),t.prettyPrint=function(e){o.workspace.showMessage(s.default.inspect(e))}},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(34);class o extends i.ColumnRegistrar{getColumnConfig(e,t){return r.config.get("file.column."+e,t)}}t.FileColumnRegistrar=o,t.fileColumnRegistrar=new o},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(76),o=n(8),s=n(19),a=n(2),c=n(33),l=n(1),u=n(77);t.enableNerdfont=a.config.get("icon.enableNerdfont"),t.sourceIcons={expanded:a.config.get("icon.expanded")||(t.enableNerdfont?"":"-"),collapsed:a.config.get("icon.collapsed")||(t.enableNerdfont?"":"+"),selected:a.config.get("icon.selected"),unselected:a.config.get("icon.unselected"),hidden:a.config.get("icon.hidden")};t.ExplorerSource=class{constructor(e,t){this.sourceName=e,this.explorer=t,this.startLine=0,this.endLine=0,this.flattenedNodes=[],this.showHidden=!1,this.selectedNodes=new Set,this.relativeHlRanges={},this.viewBuilder=new c.SourceViewBuilder,this.expandStore={record:new Map,expand(e){this.record.set(e.uid,!0)},collapse(e){this.record.set(e.uid,!1)},isExpanded(e){return this.record.get(e.uid)||!1}},this.columnManager=new u.ColumnManager(this),this.actions={},this.rootActions={},this.hlIds=[],this.nvim=r.workspace.nvim,this.requestedRenderNodes=new Set,this.context=this.explorer.context,this.subscriptions=this.context.subscriptions,this.addAction("toggleHidden",async()=>{this.showHidden=!this.showHidden},"toggle visibility of hidden node",{reload:!0,multi:!1}),this.addAction("refresh",async()=>{await this.reload(this.rootNode,{force:!0}),await this.explorer.executeHighlightSyntax()},"refresh",{multi:!1}),this.addAction("help",async e=>{await this.explorer.openHelp(this,null===e)},"show help",{multi:!1}),this.addAction("actionMenu",async e=>{await this.listActionMenu(e)},"show actions in coc-list"),this.addNodeAction("select",async e=>{this.selectedNodes.add(e),this.requestRenderNodes([e])},"toggle node selection",{multi:!1,select:!0}),this.addNodeAction("unselect",async e=>{this.selectedNodes.delete(e),this.requestRenderNodes([e])},"toggle node selection",{multi:!1,select:!0}),this.addNodeAction("toggleSelection",async e=>{this.selectedNodes.has(e)?await this.doAction("unselect",e):await this.doAction("select",e)},"toggle node selection",{multi:!1,select:!0})}get expanded(){return this.expandStore.isExpanded(this.rootNode)}set expanded(e){e?this.expandStore.expand(this.rootNode):this.expandStore.collapse(this.rootNode)}get height(){return this.flattenedNodes.length}boot(e){Promise.resolve(this.init()).catch(o.onError),this.expanded=e}init(){}addGlobalAction(e,t,n,r={}){this.explorer.addGlobalAction(e,t,n,r)}addAction(e,t,n,r={}){this.rootActions[e]={callback:(e,n)=>t(null,e,n),description:n,options:r},this.actions[e]={callback:t,description:n,options:r}}addRootAction(e,t,n,r={}){this.rootActions[e]={callback:t,options:r,description:n}}addNodesAction(e,t,n,r={}){this.actions[e]={callback:t,description:n,options:r}}addNodeAction(e,t,n,r={}){this.actions[e]={callback:async(e,n,r)=>{for(const i of e)await t(i,n,r)},description:n,options:r}}async doRootAction(e,t="",n="n"){const r=this.rootActions[e];if(r){const{render:e=!1,reload:i=!1}=r.options;return await r.callback(t,n),void(i?await this.reload(this.rootNode):e&&await this.render())}const i=this.explorer.globalActions[e];if(i){const{render:e=!1,reload:r=!1}=i.options;return await i.callback([this.rootNode],t,n),void(r?await this.reload(this.rootNode):e&&await this.render())}}async doAction(e,t,n,r="n"){const i=this.actions[e]||this.explorer.globalActions[e];if(!i)return;const{multi:o=!0,render:s=!1,reload:a=!1,select:c=!1}=i.options,l=Array.isArray(t)?t:[t];if(c)await i.callback(l,n,r);else if(o)if(this.selectedNodes.size>0){const e=Array.from(this.selectedNodes);this.selectedNodes.clear(),await i.callback(e,n,r)}else await i.callback(l,n,r);else await i.callback([l[0]],n,r);a?await this.reload(this.rootNode):s&&await this.render()}async openAction(e,t){if("vsplit"===a.openStrategy)await this.doAction("openInVsplit",e),await this.quitOnOpen();else if("select"===a.openStrategy)await this.explorer.selectWindowsUI(async e=>{await t(e),await this.quitOnOpen()},async()=>{await this.doAction("openInVsplit",e),await this.quitOnOpen()});else if("previousBuffer"===a.openStrategy){const n=await this.explorer.explorerManager.prevWinnrByPrevBufnr();n?await t(n):await this.doAction("openInVsplit",e),await this.quitOnOpen()}else if("previousWindow"===a.openStrategy){const n=await this.explorer.explorerManager.prevWinnrByPrevWindowID();n?await t(n):await this.doAction("openInVsplit",e),await this.quitOnOpen()}else if("originWindow"===a.openStrategy){const n=await this.explorer.originWinnr();n?await t(n):await this.doAction("openInVsplit",e),await this.quitOnOpen()}}addIndexes(e,t){this.explorer.addIndexes(e,t+this.startLine)}removeIndexes(e,t){this.explorer.removeIndexes(e,t+this.startLine)}async copy(e){await this.nvim.call("setreg",["+",e]),await this.nvim.call("setreg",['"',e])}async listActionMenu(e){const t=Object.assign(Object.assign({},this.explorer.globalActions),null===e?this.rootActions:this.actions);i.explorerActionList.setExplorerActions(Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).map(([t,{callback:n,description:r}])=>({name:t,nodes:e,mappings:s.mappings,root:null===e,key:s.reverseMappings[t],description:r,callback:n})).filter(e=>"actionMenu"!==e.name));const n=r.listManager.registerList(i.explorerActionList);await r.listManager.start(["--normal","--number-select",i.explorerActionList.name]),n.dispose()}isSelectedAny(){return 0!==this.selectedNodes.size}isSelectedNode(e){return this.selectedNodes.has(e)}getNodeByLine(e){return this.flattenedNodes[e]}getLineByNode(e){return e?this.flattenedNodes.findIndex(t=>t.uid===e.uid):0}async currentLineIndex(){const e=await this.explorer.currentCursor();return e?e.lineIndex-this.startLine:null}async gotoLineIndex(e,t,n=!1){e<0&&(e=0),e>this.height&&(e=this.height-1),await this.explorer.gotoLineIndex(this.startLine+e,t,n)}async gotoRoot({col:e,notify:t=!1}={}){const n=void 0===e?await this.explorer.currentCol():e;await this.gotoLineIndex(0,n,t)}async gotoNode(e,{lineIndex:t,col:n,notify:r=!1}={}){const i=void 0===n?await this.explorer.currentCol():n,o=this.flattenedNodes.findIndex(t=>t.uid===e.uid);-1!==o?await this.gotoLineIndex(o,i,r):void 0!==t?await this.gotoLineIndex(t,i,r):await this.gotoRoot({col:i,notify:r})}async loaded(e){await this.columnManager.reload(e)}async beforeDraw(e,{force:t=!1}={}){const n=this.columnManager.beforeDraw(e);return await l.hlGroupManager.emitRequestedConcealableRender(this.explorer,{force:t}),n}flattenByNode(e){return[e,...e.children?this.flattenByNodes(e.children):[]]}flattenByNodes(e){const t=[...e],n=[];for(;t.length;){const e=t.shift();if(n.push(e),e.children&&Array.isArray(e.children)&&this.expandStore.isExpanded(e))for(let n=e.children.length-1;n>=0;n--)t.unshift(e.children[n])}return n}async drawNodes(e){var t;for(let n=0,r=e.length;n<r;n++){const r=e[n],i=this.flattenedNodes.findIndex(e=>e.uid===r.uid);if(i>-1){let e=void 0,n=void 0;if(null===(t=r.parent)||void 0===t?void 0:t.children){const t=r.parent.children.indexOf(r);-1!==t&&(e=r.parent.children[t-1],n=r.parent.children[t+1])}await this.drawNode(r,i,{prevSiblingNode:e,nextSiblingNode:n})}}}currentSourceIndex(){return this.explorer.sources.indexOf(this)}opened(e=!1){}async reload(e,{render:t=!0,notify:n=!1,force:r=!1}={}){this.selectedNodes=new Set,e.children=this.expandStore.isExpanded(e)?await this.loadChildren(e):[],await this.loaded(e),t&&await this.render({node:e,notify:n,force:r})}offsetAfterLine(e,t){this.explorer.indexesManager.offsetLines(e,this.startLine+t+1),this.endLine+=e,this.explorer.sources.slice(this.currentSourceIndex()+1).forEach(t=>{t.startLine+=e,t.offsetAfterLine(e,t.startLine)})}setLines(e,t,n,r=!1){return this.explorer.setLines(e,this.startLine+t,this.startLine+n,r)}nodeAndChildrenRange(e){const t=this.flattenedNodes.findIndex(t=>t.uid===e.uid);if(-1===t)return null;const n=e.level;let r=this.flattenedNodes.length-1;for(let e=t+1,i=this.flattenedNodes.length;e<i;e++)if(this.flattenedNodes[e].level<=n){r=e-1;break}return{startIndex:t,endIndex:r}}async expandNodeRender(e,t=!1){await a.execNotifyBlock(async()=>{const t=this.nodeAndChildrenRange(e);if(!t)return;const{startIndex:n,endIndex:r}=t;if(this.expandStore.isExpanded(e)&&e.children){const t=this.flattenByNode(e);if(this.flattenedNodes=this.flattenedNodes.slice(0,n).concat(t).concat(this.flattenedNodes.slice(r+1)),await this.beforeDraw(t))return this.render();this.offsetAfterLine(t.length-1,n),await this.drawNodes(t),await this.setLines(t.map(e=>e.drawnLine),n,r+1,!0),await this.gotoLineIndex(n,1)}},t)}async expandNodeRecursive(e,t){e.expandable&&(this.expandStore.expand(e),e.children=await this.loadChildren(e),(t||1===e.children.length&&e.children[0].expandable&&a.config.get("autoExpandSingleNode"))&&await Promise.all(e.children.map(async e=>{await this.expandNodeRecursive(e,t)})))}async expandNode(e,{recursive:t=!1,notify:n=!1}={}){await a.execNotifyBlock(async()=>{await this.expandNodeRecursive(e,t),await this.expandNodeRender(e,!0),await this.gotoNode(e,{notify:!0})},n)}async collapseNodeRender(e,t=!1){await a.execNotifyBlock(async()=>{const t=this.nodeAndChildrenRange(e);if(!t)return;const{startIndex:n,endIndex:r}=t;if(this.flattenedNodes.splice(n+1,r-n),this.explorer.indexesManager.removeLines(this.startLine+n+1,this.startLine+r),await this.beforeDraw([e]))return this.render();this.offsetAfterLine(-(r-n),r),await this.drawNodes([e]),await this.setLines([e.drawnLine],n,r+1,!0),await this.gotoLineIndex(n,1)},t)}async collapseNodeRecursive(e,t){if(e.expandable&&(this.expandStore.collapse(e),(t||a.config.get("autoCollapseChildren"))&&e.children))for(const n of e.children)await this.collapseNodeRecursive(n,t)}async collapseNode(e,{recursive:t=!1,notify:n=!1}={}){await a.execNotifyBlock(async()=>{await this.collapseNodeRecursive(e,t),await this.collapseNodeRender(e,!0),await this.gotoNode(e,{notify:!0})},n)}requestRenderNodes(e){e.forEach(e=>{this.requestedRenderNodes.add(e)})}async emitRequestRenderNodes(e=!1){this.requestedRenderNodes.size>0&&(await this.renderNodes(Array.from(this.requestedRenderNodes),e),this.requestedRenderNodes.clear())}async renderNodes(e,t=!1){if(await this.beforeDraw(e))return this.render();await a.execNotifyBlock(async()=>{await Promise.all(e.map(async e=>{const t=this.flattenedNodes.findIndex(t=>t.uid===e.uid);-1!==t&&(await this.drawNodes([e]),await this.setLines([e.drawnLine],t,t+1,!0))}))},t)}async render({node:e=this.rootNode,notify:t=!1,storeCursor:n=!0,force:i=!1}={}){if(this.explorer.isHelpUI)return;const{nvim:o}=this;let s=null;n&&(s=await this.explorer.storeCursor()),await a.execNotifyBlock(async()=>{const t=this.nodeAndChildrenRange(e);if(!t&&e!==this.rootNode)return;const{startIndex:n,endIndex:a}=t||{startIndex:0,endIndex:this.flattenedNodes.length-1},c=a-n+1,l=this.flattenByNode(e),u=l.length;this.flattenedNodes=this.flattenedNodes.slice(0,n).concat(l).concat(this.flattenedNodes.slice(a+1)),u<c&&this.explorer.indexesManager.removeLines(this.startLine+u+1,this.startLine+c+1),this.offsetAfterLine(u-c,this.endLine),await this.beforeDraw(this.flattenedNodes,{force:i}),await this.drawNodes(this.flattenedNodes);const d=this.currentSourceIndex(),f=this.explorer.sources.length-1==d;await this.explorer.setLines(this.flattenedNodes.map(e=>e.drawnLine),this.startLine,f?-1:this.startLine+c,!0),s&&await s(!0),r.workspace.env.isVim&&o.command("redraw",!0)},t)}async quitOnOpen(){a.config.get("quitOnOpen")&&await this.explorer.quit()}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(11),o=n(106);t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.RequestType1=o.RequestType1,t.RequestType2=o.RequestType2,t.RequestType3=o.RequestType3,t.RequestType4=o.RequestType4,t.RequestType5=o.RequestType5,t.RequestType6=o.RequestType6,t.RequestType7=o.RequestType7,t.RequestType8=o.RequestType8,t.RequestType9=o.RequestType9,t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.NotificationType1=o.NotificationType1,t.NotificationType2=o.NotificationType2,t.NotificationType3=o.NotificationType3,t.NotificationType4=o.NotificationType4,t.NotificationType5=o.NotificationType5,t.NotificationType6=o.NotificationType6,t.NotificationType7=o.NotificationType7,t.NotificationType8=o.NotificationType8,t.NotificationType9=o.NotificationType9;const s=n(22);t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=n(23);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=n(14);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const l=n(107);t.CancellationTokenSource=l.CancellationTokenSource,t.CancellationToken=l.CancellationToken;const u=n(108);var d,f,h,p,g,m,y;r(n(109)),r(n(111)),function(e){e.type=new o.NotificationType("$/cancelRequest")}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(f=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(f=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTraceNotification")}(p=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTraceNotification")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));class v extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,v.prototype)}}function w(e,t,n,r){let s=0,a=0,w=0;const b="2.0";let E,x,R=void 0,N=Object.create(null),C=void 0,_=Object.create(null),O=new u.LinkedMap,M=Object.create(null),I=Object.create(null),S=f.Off,T=h.Text,k=y.New,L=new c.Emitter,A=new c.Emitter,D=new c.Emitter,P=new c.Emitter;function j(e){return"req-"+e.toString()}function q(e,t){var n;o.isRequestMessage(t)?e.set(j(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++w).toString():"res-"+n.toString(),t):e.set("not-"+(++a).toString(),t)}function $(e){}function F(){return k===y.Listening}function B(){return k===y.Closed}function G(){return k===y.Disposed}function W(){k!==y.New&&k!==y.Listening||(k=y.Closed,A.fire(void 0))}function H(){E||0===O.size||(E=setImmediate(()=>{E=void 0,function(){if(0===O.size)return;let e=O.shift();try{o.isRequestMessage(e)?function(e){if(G())return;function n(n,r,i){let s={jsonrpc:b,id:e.id};n instanceof o.ResponseError?s.error=n.toJson():s.result=void 0===n?null:n,V(s,r,i),t.write(s)}function r(n,r,i){let o={jsonrpc:b,id:e.id,error:n.toJson()};V(o,r,i),t.write(o)}!function(e){if(S===f.Off||!x)return;if(T===h.Text){let t=void 0;S===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),x.log(`Received request '${e.method} - (${e.id})'.`,t)}else z("receive-request",e)}(e);let s,a,c=N[e.method];c&&(s=c.type,a=c.handler);let u=Date.now();if(a||R){let c=new l.CancellationTokenSource,d=String(e.id);I[d]=c;try{let l,f=l=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(c.token):R(e.method,c.token):i.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,c.token):R(e.method,...e.params,c.token):a?a(e.params,c.token):R(e.method,e.params,c.token);l?f.then?f.then(t=>{delete I[d],n(t,e.method,u)},t=>{delete I[d],t instanceof o.ResponseError?r(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}):(delete I[d],n(l,e.method,u)):(delete I[d],function(n,r,i){void 0===n&&(n=null);let o={jsonrpc:b,id:e.id,result:n};V(o,r,i),t.write(o)}(l,e.method,u))}catch(t){delete I[d],t instanceof o.ResponseError?n(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):o.isNotificationMessage(e)?function(e){if(G())return;let t,r=void 0;if(e.method===d.type.method)t=e=>{let t=e.id,n=I[String(t)];n&&n.cancel()};else{let n=_[e.method];n&&(t=n.handler,r=n.type)}if(t||C)try{!function(e){if(S===f.Off||!x||e.method===g.type.method)return;if(T===h.Text){let t=void 0;S===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Received notification '${e.method}'.`,t)}else z("receive-notification",e)}(e),void 0===e.params||void 0!==r&&0===r.numberOfParams?t?t():C(e.method):i.array(e.params)&&(void 0===r||r.numberOfParams>1)?t?t(...e.params):C(e.method,...e.params):t?t(e.params):C(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else D.fire(e)}(e):o.isResponseMessage(e)?function(e){if(G())return;if(null===e.id)e.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),r=M[t];if(function(e,t){if(S===f.Off||!x)return;if(T===h.Text){let n=void 0;if(S===f.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";x.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else x.log(`Received response ${e.id} without active response promise.`,n)}else z("receive-response",e)}(e,r),r){delete M[t];try{if(e.error){let t=e.error;r.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${r.method}' failed with message: ${e.message}`):n.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=M[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{H()}}()}))}e.onClose(W),e.onError((function(e){L.fire([e,void 0,void 0])})),t.onClose(W),t.onError((function(e){L.fire(e)}));let U=e=>{try{if(o.isNotificationMessage(e)&&e.method===d.type.method){let n=j(e.params.id),i=O.get(n);if(o.isRequestMessage(i)){let o=r&&r.cancelUndispatched?r.cancelUndispatched(i,$):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return O.delete(n),o.id=i.id,V(o,e.method,Date.now()),void t.write(o)}}q(O,e)}finally{H()}};function V(e,t,n){if(S!==f.Off&&x)if(T===h.Text){let r=void 0;S===f.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),x.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else z("send-response",e)}function z(e,t){if(!x||S===f.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};x.log(n)}function K(){if(B())throw new v(m.Closed,"Connection is closed.");if(G())throw new v(m.Disposed,"Connection is disposed.")}function X(e){return void 0===e?null:e}function Y(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=X(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(X(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let J={sendNotification:(e,...n)=>{let r,o;if(K(),i.string(e))switch(r=e,n.length){case 0:o=null;break;case 1:o=n[0];break;default:o=n}else r=e.method,o=Y(e,n);let s={jsonrpc:b,method:r,params:o};!function(e){if(S!==f.Off&&x)if(T===h.Text){let t=void 0;S===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Sending notification '${e.method}'.`,t)}else z("send-notification",e)}(s),t.write(s)},onNotification:(e,t)=>{K(),i.func(e)?C=e:t&&(i.string(e)?_[e]={type:void 0,handler:t}:_[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let r,a;K(),function(){if(!F())throw new Error("Call listen() first.")}();let c=void 0;if(i.string(e))switch(r=e,n.length){case 0:a=null;break;case 1:l.CancellationToken.is(n[0])?(a=null,c=n[0]):a=X(n[0]);break;default:const e=n.length-1;l.CancellationToken.is(n[e])?(c=n[e],a=2===n.length?X(n[0]):n.slice(0,e).map(e=>X(e))):a=n.map(e=>X(e))}else{r=e.method,a=Y(e,n);let t=e.numberOfParams;c=l.CancellationToken.is(n[t])?n[t]:void 0}let u=s++,p=new Promise((e,n)=>{let i={jsonrpc:b,id:u,method:r,params:a},s={method:r,timerStart:Date.now(),resolve:e,reject:n};!function(e){if(S!==f.Off&&x)if(T===h.Text){let t=void 0;S===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),x.log(`Sending request '${e.method} - (${e.id})'.`,t)}else z("send-request",e)}(i);try{t.write(i)}catch(e){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(M[String(u)]=s)});return c&&c.onCancellationRequested(()=>{J.sendNotification(d.type,{id:u})}),p},onRequest:(e,t)=>{K(),i.func(e)?R=e:t&&(i.string(e)?N[e]={type:void 0,handler:t}:N[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,o=h.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||h.Text)),T=o,x=(S=e)===f.Off?void 0:t,!r||B()||G()||J.sendNotification(p.type,{value:f.toString(e)})},onError:L.event,onClose:A.event,onUnhandledNotification:D.event,onDispose:P.event,dispose:()=>{if(G())return;k=y.Disposed,P.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(M).forEach(e=>{M[e].reject(n)}),M=Object.create(null),I=Object.create(null),O=new u.LinkedMap,i.func(t.dispose)&&t.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{K(),function(){if(F())throw new v(m.AlreadyListening,"Connection is already listening")}(),k=y.Listening,e.listen(U)},inspect:()=>{console.log("inspect")}};return J.onNotification(g.type,e=>{S!==f.Off&&x&&x.log(e.message,S===f.Verbose?e.verbose:void 0)}),J}t.ConnectionError=v,function(e){e.is=function(e){let t=e;return t&&i.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(y||(y={})),t.createMessageConnection=function(e,n,r,i){var o;return r||(r=t.NullLogger),w(void 0!==(o=e).listen&&void 0===o.read?e:new s.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n),r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(2),o=[];let s=null;const a=(e,t)=>{var n;if(s){if("info"!==e){const n="warn"===e?"warning":e;r.workspace.showMessage(t.toString(),n)}s[e](t),"string"==typeof t?i.outputChannel.appendLine(t):i.outputChannel.appendLine(null!=(n=t.stack)?n:t.toString())}};t.log=(e,t)=>{s?a(e,t):o.push({type:e,data:t})},t.registerLogger=e=>{s=e;for(const e of o)a(e.type,e.data)},t.onError=e=>{t.log("error",e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),i=n(2);t.bufferColumnRegistrar=new class extends r.ColumnRegistrar{getColumnConfig(e,t){return i.config.get("buffer.column."+e,t)}}},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},function(e,t,n){e.exports=p,p.Minimatch=g;var r={sep:"/"};try{r=n(3)}catch(e){}var i=p.GLOBSTAR=g.GLOBSTAR={},o=n(52),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",l="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",u="(?:(?!(?:\\/|^)\\.).)*?",d="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var f=/\/+/;function h(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function p(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new g(t,n).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}p.filter=function(e,t){return t=t||{},function(n,r,i){return p(n,e,t)}},p.defaults=function(e){if(!e||!Object.keys(e).length)return p;var t=p,n=function(n,r,i){return t.minimatch(n,r,h(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,h(e,r))},n},g.defaults=function(e){return e&&Object.keys(e).length?p.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(f)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},p.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",l=!!n.nocase,u=!1,f=[],h=[],p=!1,g=-1,m=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function b(){if(r){switch(r){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+r}w.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,x=0,R=e.length;x<R&&(E=e.charAt(x));x++)if(this.debug("%s\t%s %s %j",e,x,o,E),u&&d[E])o+="\\"+E,u=!1;else switch(E){case"/":return!1;case"\\":b(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,x,o,E),p){this.debug("  in class"),"!"===E&&x===m+1&&(E="^"),o+=E;continue}w.debug("call clearStateChar %j",r),b(),r=E,n.noext&&b();continue;case"(":if(p){o+="(";continue}if(!r){o+="\\(";continue}f.push({type:r,start:x-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(p||!f.length){o+="\\)";continue}b(),l=!0;var N=f.pop();o+=N.close,"!"===N.type&&h.push(N),N.reEnd=o.length;continue;case"|":if(p||!f.length||u){o+="\\|",u=!1;continue}b(),o+="|";continue;case"[":if(b(),p){o+="\\"+E;continue}p=!0,m=x,g=o.length,o+=E;continue;case"]":if(x===m+1||!p){o+="\\"+E,u=!1;continue}if(p){var C=e.substring(m+1,x);try{RegExp("["+C+"]")}catch(e){var _=this.parse(C,y);o=o.substr(0,g)+"\\["+_[0]+"\\]",l=l||_[1],p=!1;continue}}l=!0,p=!1,o+=E;continue;default:b(),u?u=!1:!d[E]||"^"===E&&p||(o+="\\"),o+=E}p&&(C=e.substr(m+1),_=this.parse(C,y),o=o.substr(0,g)+"\\["+_[0],l=l||_[1]);for(N=f.pop();N;N=f.pop()){var O=o.slice(N.reStart+N.open.length);this.debug("setting tail",o,N),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",O,O,N,o);var M="*"===N.type?c:"?"===N.type?a:"\\"+N.type;l=!0,o=o.slice(0,N.reStart)+M+"\\("+O}b(),u&&(o+="\\\\");var I=!1;switch(o.charAt(0)){case".":case"[":case"(":I=!0}for(var S=h.length-1;S>-1;S--){var T=h[S],k=o.slice(0,T.reStart),L=o.slice(T.reStart,T.reEnd-8),A=o.slice(T.reEnd-8,T.reEnd),D=o.slice(T.reEnd);A+=D;var P=k.split("(").length-1,j=D;for(x=0;x<P;x++)j=j.replace(/\)[+*?]?/,"");var q="";""===(D=j)&&t!==y&&(q="$"),o=k+L+D+q+A}""!==o&&l&&(o="(?=.)"+o);I&&(o=v+o);if(t===y)return[o,l];if(!l)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var $=n.nocase?"i":"";try{var F=new RegExp("^"+o+"$",$)}catch(e){return new RegExp("$.")}return F._glob=e,F._src=o,F};var y={};p.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?l:u,r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,n){var r=new g(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(f),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,u=t[s],d=e[o];if(this.debug(t,u,d),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,d]);var f=o,h=s+1;if(h===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<a;){var p=e[f];if(this.debug("\nglobstar while",e,f,t,h,p),this.matchOne(e.slice(f),t.slice(h),n))return this.debug("globstar found match!",f,a,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,f,t,h);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,h),f!==a))}if("string"==typeof u?(l=r.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,l)):(l=d.match(u),this.debug("pattern match",u,d,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,o=n.length;i<o;i++)try{t.push(n[i].apply(r[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{let o;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),o={dispose:()=>{this._callbacks.remove(e,t),o.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?i:r,e.exports.posix=r,e.exports.win32=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebpack="function"==typeof n,t.isWindows="win32"===process.platform,t.isMacintosh="darwin"===process.platform,t.isLinux="linux"===process.platform},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);var i;!function(e){e.none="none",e.default="default"}(i||(i={})),t.mappingMode=r.config.get("keyMappingMode",i.default);function o(e){const[t,n]=e.split(/:(.+)/,2);return{name:t,arg:n}}t.ActionSyms=Object.keys({select:0,unselect:0,toggleSelection:0,actionMenu:0,collapse:0,expand:0,expandRecursive:0,collapseRecursive:0,expandOrCollapse:0,cd:0,open:0,openInSplit:0,openInVsplit:0,openInTab:0,drop:0,gotoParent:0,copyFilepath:0,copyFilename:0,copyFile:0,cutFile:0,pasteFile:0,delete:0,deleteForever:0,addFile:0,addDirectory:0,rename:0,toggleHidden:0,refresh:0,normal:1,help:0,quit:0,systemExecute:0,listDrive:0,search:0,searchRecursive:0,nodePrev:0,nodeNext:0,gotoSource:1,sourcePrev:0,sourceNext:0,diagnosticPrev:0,diagnosticNext:0,gitPrev:0,gitNext:0,gitStage:0,gitUnstage:0}),t.defaultMappings={none:{},default:{k:"nodePrev",j:"nodeNext","*":"toggleSelection","<tab>":"actionMenu",h:"collapse",l:"expand",J:["toggleSelection","nodeNext"],K:["toggleSelection","nodePrev"],gl:"expandRecursive",gh:"collapseRecursive",o:"expandOrCollapse","<cr>":"open",e:"open",E:"openInVsplit",t:"openInTab","<bs>":"gotoParent",y:"copyFilepath",Y:"copyFilename",c:"copyFile",x:"cutFile",p:"pasteFile",d:"delete",D:"deleteForever",a:"addFile",A:"addDirectory",r:"rename",".":"toggleHidden",R:"refresh","?":"help",q:"quit",X:"systemExecute",gd:"listDrive",f:"search",F:"searchRecursive",gf:"gotoSource:file",gb:"gotoSource:buffer","[[":"sourcePrev","]]":"sourceNext","[d":"diagnosticPrev","]d":"diagnosticNext","[c":"gitPrev","]c":"gitNext","<<":"gitStage",">>":"gitUnstage"}},t.mappings={},Object.entries(Object.assign(Object.assign({},t.defaultMappings[t.mappingMode]||{}),r.config.get("keyMappings",{}))).forEach(([e,n])=>{n&&(t.mappings[e]=Array.isArray(n)?n.map(e=>o(e)):[o(n)])}),t.reverseMappings={},Object.entries(t.mappings).find(([e,n])=>{1===n.length&&(t.reverseMappings[n[0].name]=e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.sourceManager=new class{constructor(){this.registeredSources={}}registerSource(e,t){return this.registeredSources[e]=t,r.Disposable.create(()=>{delete this.registeredSources[e]})}createSource(e,t,n){if(this.registeredSources[e]){const r=new this.registeredSources[e](e,t);return r.boot(n),r}return r.workspace.showMessage(`explorer source(${e}) not found`,"error"),null}}},function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",i="day",o="week",s="month",a="quarter",c="year",l=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},f={s:d,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+d(r,2,"0")+":"+d(i,2,"0")},m:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,s),i=t-r<0,o=e.clone().add(n+(i?-1:1),s);return Number(-(n+(t-r)/(i?r-o:o-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:s,y:c,w:o,d:i,h:r,m:n,s:t,ms:e,Q:a}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",g={};g[p]=h;var m=function(e){return e instanceof b},y=function(e,t,n){var r;if(!e)return p;if("string"==typeof e)g[e]&&(r=e),t&&(g[e]=t,r=e);else{var i=e.name;g[i]=e,r=i}return n||(p=r),r},v=function(e,t,n){if(m(e))return e.clone();var r=t?"string"==typeof t?{format:t,pl:n}:t:{};return r.date=e,new b(r)},w=f;w.l=y,w.i=m,w.w=function(e,t){return v(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var b=function(){function d(e){this.$L=this.$L||y(e.locale,null,!0),this.parse(e)}var f=d.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(t)}(e),this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return w},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(e,t){var n=v(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return v(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<v(e)},f.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},f.year=function(e){return this.$g(e,"$y",c)},f.month=function(e){return this.$g(e,"$M",s)},f.day=function(e){return this.$g(e,"$W",i)},f.date=function(e){return this.$g(e,"$D","date")},f.hour=function(e){return this.$g(e,"$H",r)},f.minute=function(e){return this.$g(e,"$m",n)},f.second=function(e){return this.$g(e,"$s",t)},f.millisecond=function(t){return this.$g(t,"$ms",e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,a){var l=this,u=!!w.u(a)||a,d=w.p(e),f=function(e,t){var n=w.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return u?n:n.endOf(i)},h=function(e,t){return w.w(l.toDate()[e].apply(l.toDate(),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},p=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case c:return u?f(1,0):f(31,11);case s:return u?f(1,g):f(0,g+1);case o:var v=this.$locale().weekStart||0,b=(p<v?p+7:p)-v;return f(u?m-b:m+(6-b),g);case i:case"date":return h(y+"Hours",0);case r:return h(y+"Minutes",1);case n:return h(y+"Seconds",2);case t:return h(y+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(o,a){var l,u=w.p(o),d="set"+(this.$u?"UTC":""),f=(l={},l[i]=d+"Date",l.date=d+"Date",l[s]=d+"Month",l[c]=d+"FullYear",l[r]=d+"Hours",l[n]=d+"Minutes",l[t]=d+"Seconds",l[e]=d+"Milliseconds",l)[u],h=u===i?this.$D+(a-this.$W):a;if(u===s||u===c){var p=this.clone().set("date",1);p.$d[f](h),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else f&&this.$d[f](h);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[w.p(e)]()},f.add=function(e,a){var l,u=this;e=Number(e);var d=w.p(a),f=function(t){var n=v(u);return w.w(n.date(n.date()+Math.round(t*e)),u)};if(d===s)return this.set(s,this.$M+e);if(d===c)return this.set(c,this.$y+e);if(d===i)return f(1);if(d===o)return f(7);var h=(l={},l[n]=6e4,l[r]=36e5,l[t]=1e3,l)[d]||1,p=this.$d.getTime()+e*h;return w.w(p,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),o=this.$H,s=this.$m,a=this.$M,c=i.weekdays,l=i.months,d=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].substr(0,o)},f=function(e){return w.s(o%12||12,e,"0")},h=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:d(i.monthsShort,a,l,3),MMMM:l[a]||l(this,n),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:d(i.weekdaysMin,this.$W,c,2),ddd:d(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:w.s(o,2,"0"),h:f(1),hh:f(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(u,(function(e,t){return t||p[e]||r.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(e,l,u){var d,f=w.p(l),h=v(e),p=6e4*(h.utcOffset()-this.utcOffset()),g=this-h,m=w.m(this,h);return m=(d={},d[c]=m/12,d[s]=m,d[a]=m/3,d[o]=(g-p)/6048e5,d[i]=(g-p)/864e5,d[r]=g/36e5,d[n]=g/6e4,d[t]=g/1e3,d)[f]||g,u?m:w.a(m)},f.daysInMonth=function(){return this.endOf(s).$D},f.$locale=function(){return g[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone();return n.$L=y(e,t,!0),n},f.clone=function(){return w.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},d}();return v.prototype=b.prototype,v.extend=function(e,t){return e(t,b,v),v},v.locale=y,v.isDayjs=m,v.unix=function(e){return v(1e3*e)},v.en=g[p],v.Ls=g,v}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),i=n(11);let o=8192,s=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0],c="\r\n";class l{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(o)}append(e){var t=e;if("string"==typeof e){var n=e,r=Buffer.byteLength(n,this.encoding);(t=Buffer.allocUnsafe(r)).write(n,0,r,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=(Math.ceil((this.index+t.length)/o)+1)*o;0===this.index?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split(c).forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class u{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=u;class d extends u{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new l(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=d;t.IPCMessageReader=class extends u{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class extends d{constructor(e,t="utf-8"){super(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),i=n(11);let o="Content-Length: ",s="\r\n";!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a;t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[o,n.toString(),s,s];try{this.writable.write(r.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[o,n.toString(),s,s];try{this.sending=!0,this.socket.write(r.join(""),"ascii",n=>{n&&this.handleError(n,e);try{this.socket.write(t,this.encoding,t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(n){this.handleError(n,e)}})}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.config=r.workspace.getConfiguration("explorer"),t.enableDebug=t.config.get("debug"),t.activeMode=t.config.get("activeMode"),t.autoReveal=t.config.get("file.autoReveal"),t.openStrategy=t.config.get("openAction.strategy")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);function i(e,t,{tail:n=!1}={}){const r=o(e,t);let i=0;return async(...o)=>{const s=Date.now();if(s-i<e)return n?await r(...o):void 0;i=s;try{return await t(...o)}catch(e){throw e}}}function o(e,t){let n=null,r=null;return async(...i)=>(n&&(clearTimeout(n),r(void 0)),await new Promise((o,s)=>{r=o,n=setTimeout(async()=>{try{o(await t(...i))}catch(e){s(e)}},e)}))}t.throttle=function(e,t,n={}){const o=i(e,t,n);return(...e)=>{o(...e).catch(r.onError)}},t.throttlePromise=i,t.debounce=function(e,t){const n=o(e,t);return(...e)=>{n(...e).catch(r.onError)}},t.debouncePromise=o},function(e,t,n){e.exports=w;var r=n(5),i=n(27),o=n(12),s=(o.Minimatch,n(55)),a=n(28).EventEmitter,c=n(3),l=n(15),u=n(16),d=n(57),f=n(29),h=(f.alphasort,f.alphasorti,f.setopts),p=f.ownProp,g=n(58),m=(n(10),f.childrenIgnored),y=f.isIgnored,v=n(31);function w(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return d(e,t)}return new E(e,t,n)}w.sync=d;var b=w.GlobSync=d.GlobSync;function E(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof E))return new E(e,t,n);h(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick((function(){i._finish()})):i._finish())}o=!1}w.glob=w,w.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},w.Glob=E,s(E,a),E.prototype._finish=function(){if(l(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,s=r.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())}))}))},E.prototype._mark=function(e){return f.mark(this,e)},E.prototype._makeAbs=function(e){return f.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit("abort")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},E.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},E.prototype._process=function(e,t,n,r){if(l(this instanceof E),l("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,c=e.slice(s);null===i?a=".":u(i)||u(e.join("/"))?(i&&u(i)||(i="/"+i),a=i):a=i;var d=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,d,c,t,n,r):this._processReaddir(i,a,d,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){return a._processReaddir2(e,t,n,r,i,o,l,s)}))},E.prototype._processReaddir2=function(e,t,n,r,i,o,s,a){if(!s)return a();for(var l=r[0],u=!!this.minimatch.negate,d=l._glob,f=this.dot||"."===d.charAt(0),h=[],p=0;p<s.length;p++){if("."!==(m=s[p]).charAt(0)||f)(u&&!e?!m.match(l):m.match(l))&&h.push(m)}var g=h.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(p=0;p<g;p++){var m=h[p];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(i,m)}return a()}r.shift();for(p=0;p<g;p++){m=h[p];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),i,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!y(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=g("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));i&&r.lstat(e,i)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g("readdir\0"+e+"\0"+t,n))){if(t&&!p(this.symlinks,e))return this._readdirInGlobStar(e,n);if(p(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){a._processGlobStar2(e,t,n,r,i,o,l,s)}))},E.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,i,!1,a);var d=this.symlinks[n],f=s.length;if(d&&o)return a();for(var h=0;h<f;h++){if("."!==s[h].charAt(0)||this.dot){var p=l.concat(s[h],c);this._process(p,i,!0,a);var g=l.concat(s[h],r);this._process(g,i,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},E.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&u(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&p(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var c=this,l=g("stat\0"+n,(function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)}));c._stat2(e,n,i,o,t)}));l&&r.lstat(n,l)},E.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},function(e,t,n){e.exports=u,u.realpath=u,u.sync=d,u.realpathSync=d,u.monkeypatch=function(){r.realpath=u,r.realpathSync=d},u.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(5),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(51);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){l(r)?c.realpath(e,t,n):n(r,i)}))}function d(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(l(n))return c.realpathSync(e,t);throw n}}},function(e,t){e.exports=require("events")},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=l,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:d(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:l));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[d(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!f(e,t)})));e.found=n},t.mark=function(e,t){var n=d(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=d(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=f,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(3),o=n(12),s=n(16),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function l(e,t){return e.localeCompare(t)}function u(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function d(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function f(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach((function(e){r[e]=t[e]}));return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},function(e,t,n){var r=n(30);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(13),o=r(n(60));t.execCli=(e,t,n)=>{const r=i.spawn(e,t,n);let o="";return r.stdout.on("data",e=>{o+=e.toString()}),new Promise((e,t)=>{r.stdout.on("error",e=>{t(e)}),r.stdout.on("end",()=>{e(o)})})},t.executable=async e=>{try{await o.default(e)}catch(e){return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);class i{constructor(e){this.view=e,this.content=""}concealableColumn(e,t){const n=e.markerID;this.content+=r.HlEscapeCode.left(n),t(),this.content+=r.HlEscapeCode.right(n)}add(e,t){if(t&&e){const n=t.markerID;e=`${r.HlEscapeCode.left(n)}${e}${r.HlEscapeCode.right(n)}`}this.content+=e}}t.SourceRowBuilder=i;t.SourceViewBuilder=class{async drawLine(e){const t=new i(this);return await e(t),t.content}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.ColumnRegistrar=class{constructor(){this.registeredColumns={}}async getColumns(e,t){var n,r;const i=[];for(const o of t){const t=this.registeredColumns[o];if(t){const o=t.getFileColumn(e,t.getInitialData());o.inited?i.push(o):o.validate&&!o.validate()||(await(null===(r=(n=o).init)||void 0===r?void 0:r.call(n)),o.inited=!0,i.push(o))}}return i}registerColumn(e,t,n=(()=>null)){return this.registeredColumns[e]={getFileColumn:t,getInitialData:n},r.Disposable.create(()=>{delete this.registeredColumns[e]})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=r(n(5)),s=r(n(3)),a=n(8),c=n(2),l=n(1),u=n(6),d=n(20),f=n(4);n(87);const h=n(103),p=n(123),g=n(18),m=c.config.get("file.hiddenRules");const y=l.hlGroupManager.linkGroup.bind(l.hlGroupManager),v={title:y("FileRoot","Constant"),name:y("FileRootName","Identifier"),expandIcon:y("FileExpandIcon","Direcoty"),fullpath:y("FileFullpath","Comment")};class w extends u.ExplorerSource{constructor(){super(...arguments),this.hlRevealedLineSrcId=i.workspace.createNameSpace("coc-explorer-file-revealed-line"),this.showHidden=c.config.get("file.showHiddenFiles"),this.copiedNodes=new Set,this.cutNodes=new Set,this.rootNode={uid:this.sourceName+"://",level:0,drawnLine:"",name:"root",fullpath:g.homedir(),expandable:!0,directory:!0,readonly:!0,executable:!1,readable:!0,writable:!0,hidden:!1,symbolicLink:!0,lstat:null,isFirstInLevel:!0,isLastInLevel:!0}}get root(){return this.rootNode.fullpath}set root(e){this.rootNode.fullpath=e,this.rootNode.children=void 0}async init(){const{nvim:e}=this;await this.columnManager.registerColumns(this.explorer.args.fileColumns,f.fileColumnRegistrar),c.activeMode&&(i.workspace.env.isVim?this.subscriptions.push(c.onBufEnter(200,async e=>{e===this.explorer.bufnr&&await this.reload(this.rootNode)})):c.autoReveal&&this.subscriptions.push(c.onBufEnter(200,async t=>{if(t!==this.explorer.bufnr){const n=await e.call("getbufinfo",[t]);n[0]&&n[0].name&&await c.execNotifyBlock(async()=>{const e=await this.revealNodeByPath(n[0].name,{render:!0,notify:!0});e&&await this.gotoNode(e,{notify:!0})})}}))),p.initFileActions(this)}getPutTargetNode(e){return null===e?this.rootNode:e.expandable&&this.expandStore.isExpanded(e)?e:e.parent?e.parent:this.rootNode}getPutTargetDir(e){return this.getPutTargetNode(e).fullpath}async searchByCocList(e,t){h.filesList.showHidden=this.showHidden,h.filesList.rootPath=e,h.filesList.recursive=t,h.filesList.revealCallback=async e=>{await c.execNotifyBlock(async()=>{const t=await this.revealNodeByPath(i.Uri.parse(e.uri).fsPath,{render:!0,notify:!0});t&&await this.gotoNode(t,{notify:!0})})};const n=i.listManager.registerList(h.filesList);await i.listManager.start([h.filesList.name]),n.dispose()}async revealNodeByPath(e,{node:t=this.rootNode,render:n=!1,notify:r=!1}={}){if(e=c.normalizePath(e),t.directory&&e.startsWith(t.fullpath+s.default.sep)){let i=null;const o=!this.expandStore.isExpanded(t);t.children||(t.children=await this.loadChildren(t));for(const s of t.children)if(i=await this.revealNodeByPath(e,{node:s,render:!o&&n,notify:r})){this.expandStore.expand(t);break}return i&&n&&o&&await this.render({node:t,notify:r,storeCursor:!1}),i}return e===t.fullpath?t:null}sortFiles(e){return e.sort((e,t)=>e.directory&&!t.directory?-1:t.directory&&!e.directory?1:e.name.localeCompare(t.name))}async loadChildren(e){const t=await c.fsReaddir(e.fullpath),n=await Promise.all(t.map(async t=>{try{const n=function(e){const{basename:t,extensions:n}=c.getExtensions(e),r=n[n.length-1];return m.filenames.includes(t)||m.extensions.includes(r)||m.patternMatches.some(t=>new RegExp(t).test(e))}(t);if(!this.showHidden&&n)return null;const r=s.default.join(e.fullpath,t),i=await c.fsStat(r).catch(()=>{}),a=await c.fsLstat(r).catch(()=>{}),l=await c.fsAccess(r,o.default.constants.X_OK),u=await c.fsAccess(r,o.default.constants.W_OK),d=await c.fsAccess(r,o.default.constants.R_OK),f=!!i&&i.isDirectory(),h={uid:this.sourceName+"://"+r,level:e?e.level+1:1,drawnLine:"",parent:e||void 0,expandable:f,name:t,fullpath:r,directory:f,readonly:!u&&d,executable:l,readable:d,writable:u,hidden:n,symbolicLink:!!a&&a.isSymbolicLink(),isFirstInLevel:!1,isLastInLevel:!1,lstat:a||null};return this.expandStore.isExpanded(h)&&(h.children=await this.loadChildren(h)),h}catch(e){return a.onError(e),null}}));return this.sortFiles(n.filter(e=>null!==e))}async loaded(e){this.copiedNodes.clear(),this.cutNodes.clear(),await super.loaded(e)}async renderPaths(e){const t=Array.from(e).map(e=>this.flattenedNodes.find(t=>t.fullpath===e)).filter(e=>!!e);return await this.renderNodes(t)}async drawNode(e,t,n){e.parent?(e.isFirstInLevel=void 0===n.prevSiblingNode,e.isLastInLevel=void 0===n.nextSiblingNode,e.drawnLine=await this.viewBuilder.drawLine(async n=>{await this.columnManager.draw(n,e,t)})):e.drawnLine=await this.viewBuilder.drawLine(async e=>{e.add(this.expanded?u.sourceIcons.expanded:u.sourceIcons.collapsed,v.expandIcon),e.add(" "),e.add(`[FILE${this.showHidden?" "+u.sourceIcons.hidden:""}]:`,v.title),e.add(" "),e.add(s.default.basename(this.root),v.name),e.add(" "),e.add(this.root,v.fullpath)})}}t.FileSource=w,d.sourceManager.registerSource("file",w)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(3)),o=n(8),s=n(4),a=n(2),c=s.fileColumnRegistrar.getColumnConfig("git.showIgnored");var l;!function(e){e.mixed="*",e.unmodified=" ",e.modified="M",e.added="A",e.deleted="D",e.renamed="R",e.copied="C",e.unmerged="U",e.untracked="?",e.ignored="!"}(l=t.GitFormat||(t.GitFormat={}));class u{spawn(e,{cwd:t}={}){return a.execCli(a.config.get("git.command"),e,{cwd:t})}async getRoot(e){return(await this.spawn(["rev-parse","--show-toplevel"],{cwd:e})).trim()}parseStatusFormat(e){for(const t in l){const n=Reflect.get(l,t);if(e===n)return n}return l.unmodified}parsePath(e,t){let n=0,r="",i=!1,o=!1,s=!1;const a=[];for(;n<e.length;){const c=e[n];i||o?(o?s?(r+="t"===c?"\t":c,s=!1):'"'===c?(a.push(r),o=!1,i=!1):"\\"===c?s=!0:r+=c:" "===c&&t&&" -> "===e.slice(n,n+4)?(r.length&&a.push(r),n+=3,i=!1):r+=c,n+=1):('"'===c&&(o=!0,n+=1),r="",i=!0)}return i&&(a.push(r),i=!1),a}parseStatusLine(e,t){const n=this.parseStatusFormat(t[0]),r=this.parseStatusFormat(t[1]),o=t.slice(3),s=[l.renamed,l.copied].includes(n)||[l.renamed,l.copied].includes(r);return[n,r,...this.parsePath(o,s).map(t=>i.default.join(e,t))]}async status(e){const t={},n=["status","--porcelain","-u"];return c&&n.push("--ignored"),(await this.spawn(n,{cwd:e})).split("\n").forEach(n=>{const[r,i,o,s]=this.parseStatusLine(e,n),a=[l.untracked,l.ignored].includes(r)?l.unmodified:r,c=[l.modified,l.added,l.deleted,l.renamed,l.copied],u=a===l.added||i===l.added,d=a===l.modified||i===l.modified,f=a===l.deleted||i===l.deleted,h=a===l.renamed||i===l.renamed,p=a===l.copied||i===l.copied,g=c.includes(a)&&i===l.unmodified,m=a===l.deleted&&i===l.deleted||a===l.added&&i===l.added||a===l.unmerged||i===l.unmerged,y=a===l.ignored,v=a===l.untracked,w=s||o;t[w]={fullpath:w,x:a,y:i,added:u,modified:d,deleted:f,renamed:h,copied:p,stated:g,unmerged:m,untracked:v,ignored:y}}),t}async stage(...e){if(e.length){const t=await this.getRoot(i.default.dirname(e[0]));await this.spawn(["add",...e],{cwd:t})}}async unstage(...e){if(e.length){const t=await this.getRoot(i.default.dirname(e[0]));await this.spawn(["reset",...e],{cwd:t})}}}t.gitManager=new class{constructor(){this.cmd=new u,this.rootCache={},this.statusCache={},this.mixedStatusCache={}}async getGitRoot(e){if(e in this.rootCache)return this.rootCache[e];const t=e.split(i.default.sep),n=t.indexOf(".git");if(-1!==n){const r=t.slice(0,n).join(i.default.sep);this.rootCache[e]=r}else try{const t=await this.cmd.getRoot(e);i.default.isAbsolute(t)?this.rootCache[e]=t:i.default.join(e,t)}catch(e){return void o.onError(e)}return this.rootCache[e]}async reload(e){const t=await this.getGitRoot(e);t&&(this.statusCache[t]=await this.cmd.status(t),this.mixedStatusCache[t]={},Object.entries(this.statusCache[t]).forEach(([e,n])=>{const r=i.default.relative(t,e).split(i.default.sep);for(let e=1;e<=r.length;e++){const o=i.default.join(t,r.slice(0,e).join(i.default.sep)),s=this.mixedStatusCache[t][o];s?(s.x!==l.mixed&&s.x!==n.x&&(s.x===l.unmodified?s.x=n.x:n.x!==l.unmodified&&(s.x=l.mixed)),s.y!==l.mixed&&s.y!==n.y&&(s.y===l.unmodified?s.y=n.y:n.y!==l.unmodified&&(s.y=l.mixed))):this.mixedStatusCache[t][o]={x:n.x,y:n.y}}}))}getRootStatuses(e){return this.mixedStatusCache[e]}async getStatuses(e){const t=await this.getGitRoot(e);return t&&this.getRootStatuses(t)||{}}getStatus(e){for(const[,t]of Object.entries(this.mixedStatusCache))if(e in t)return t[e];return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(4),o=n(38),s=n(0),a=n(2),c=n(39);t.highlights={directory:r.hlGroupManager.linkGroup("FileDirectory","Directory"),linkTarget:r.hlGroupManager.linkGroup("FileLinkTarget","Comment")};const l=s.workspace.nvim,u=i.fileColumnRegistrar.getColumnConfig("filename.width"),d=i.fileColumnRegistrar.getColumnConfig("filename.paddingEnd"),f=Symbol("filename-column");function h(e,t){return c.getSymbol(t,f,()=>({indentWidth:p(e,t)}))}function p(e,t){return e.columnManager.columnNames.includes("indent")||e.columnManager.columnNames.includes("indentLine")?o.indentChars.length*(t.level-(o.topLevel?0:1)):0}const g=new Map;i.fileColumnRegistrar.registerColumn("filename",e=>({async beforeDraw(t){await async function(e,t,n){await Promise.all(n.map(async n=>{let r=n.name;n.directory&&(r+="/");const i=n.symbolicLink?await a.fsReadlink(n.fullpath).then(e=>" → "+e).catch(()=>""):"",o=[n.level,r,i].join("-");if(!g.has(o)){const s=t-h(e,n).indentWidth;g.set(o,await l.call("coc_explorer#truncate",[r,i,s,d,".."]))}const s=g.get(o);h(e,n).truncatedName=s[0],h(e,n).truncatedLinkTarget=s[1]}))}(e,u,t)},draw(n,r){const i=h(e,r);r.directory?(n.add(i.truncatedName,t.highlights.directory),n.add(i.truncatedLinkTarget,t.highlights.linkTarget)):(n.add(i.truncatedName),n.add(i.truncatedLinkTarget,t.highlights.linkTarget)),n.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(6),o=n(4);t.indentChars=o.fileColumnRegistrar.getColumnConfig("indent.chars"),t.topLevel=o.fileColumnRegistrar.getColumnConfig("indent.topLevel");let s=o.fileColumnRegistrar.getColumnConfig("indent.indentLine");i.enableNerdfont&&void 0===s&&(s=!0);const a={line:r.hlGroupManager.linkGroup("IndentLine","Comment")};o.fileColumnRegistrar.registerColumn("indent",()=>({draw(e,n){s?e.add(function(e){let n="";if(!e.parent&&!t.topLevel)return n;n=e.isLastInLevel?"└ ":"│ ";let r=e.parent;for(;r&&(r.parent||t.topLevel);)n=r.isLastInLevel?"  "+n:"│ "+n,r=r.parent;return n}(n),a.line):e.add(t.indentChars.repeat(n.level-(t.topLevel?0:1)))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSymbol=function(e,t,n){return Reflect.has(e,t)||Reflect.set(e,t,n()),Reflect.get(e,t)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=r(n(3)),s=n(2).config.get("file.diagnosticCountMax");t.diagnosticManager=new class{constructor(){this.errorPathCount={},this.warningPathCount={},this.errorMixedCount={},this.warningMixedCount={},this.lastReloadTime=0}reload(){const e=Date.now();if(e-this.lastReloadTime<300)return;this.lastReloadTime=e;const t={},n={};i.diagnosticManager.getDiagnosticList().forEach(e=>{const r=e.location.uri,o=i.Uri.parse(r).fsPath;"Error"===e.severity?(o in t||(t[o]=0),t[o]+=1):(o in n||(n[o]=0),n[o]+=1)}),this.errorPathCount=t,this.warningPathCount=n}errorReload(e){this.reload();const t={};Object.entries(this.errorPathCount).forEach(([n,r])=>{const i=o.default.relative(e,n).split(o.default.sep);for(let n=1;n<=i.length;n++){const s=o.default.join(e,i.slice(0,n).join(o.default.sep));t[s]?t[s]+=r:t[s]=r}}),this.errorMixedCount=Object.entries(t).reduce((e,[t,n])=>(e[t]=n>s?"●":n.toString(),e),{})}warningReload(e){this.reload();const t={};Object.entries(this.warningPathCount).forEach(([n,r])=>{const i=o.default.relative(e,n).split(o.default.sep);for(let n=1;n<=i.length;n++){const s=o.default.join(e,i.slice(0,n).join(o.default.sep));t[s]?t[s]+=r:t[s]=r}}),this.warningMixedCount=Object.entries(t).reduce((e,[t,n])=>(e[t]=n>s?"●":n.toString(),e),{})}}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i="coc_explorer_context";class o{constructor(e){this.name=e}async set(e){const t=await this.read();null===e?Reflect.deleteProperty(t,this.name):Reflect.set(t,this.name,e),await this.write(t)}async get(){var e;const t=await this.read();return null!=(e=Reflect.get(t,this.name))?e:null}}t.ContextVars=o;t.BuffuerContextVars=class extends o{constructor(e,t){super(e),this.name=e,this.explorer=t}async read(){return await this.explorer.buffer.getVar(i)||{}}async write(e){await this.explorer.buffer.setVar(i,e)}};t.GlobalContextVars=class extends o{constructor(){super(...arguments),this.nvim=r.workspace.nvim}async read(){var e;return null!=(e=await this.nvim.getVar(i))?e:{}}async write(e){await this.nvim.setVar(i,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(8),o=n(1),s=n(71);t.activate=async e=>{const{subscriptions:t,logger:n}=e,{nvim:a}=r.workspace;i.registerLogger(n),o.hlGroupManager.group("SelectUI","ctermbg=27 ctermfg=0 guibg=#1593e5 guifg=#ffffff");const c=new s.ExplorerManager(e);t.push(r.commands.registerCommand("explorer",(...e)=>{c.open(e).catch(i.onError)})),a.getOption("runtimepath").then(async t=>{t.split(",").includes(e.extensionPath)||await a.command(`execute 'noa set rtp^='.fnameescape('${e.extensionPath.replace(/'/g,"''")}')`),c.emitterDidAutoload.fire()}).catch(i.onError)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteIndex=function(e,t){const n=e.slice(0,t);return Buffer.byteLength(n)},t.byteLength=function(e){return Buffer.byteLength(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsigned=e=>"number"!=typeof e?0:e<0?0:Math.floor(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){const t=[...e],n=[];for(;t.length;){const e=t.shift();Array.isArray(e)?t.unshift(...e):n.push(e)}return n},t.chunk=function(e,n=1){const r=t.max([n,0]);if(!e.length||n<1)return[];const i=[];for(let t=0;t<Math.ceil(e.length/r);t++)i.push(e.slice(t*n,(t+1)*n));return i},t.sum=e=>e.reduce((e,t)=>e+t,0),t.max=e=>{let t=e.length-1,n=-1/0;for(;t>=0;)e[t]>n&&(n=e[t]),t-=1;return n},t.min=e=>{let t=e.length,n=1/0;for(;t>=0;)e[t]<n&&(n=e[t]),t-=1;return n},t.findLastIndex=function(e,t){let n=e.length-1;for(;n>=0;){if(t(e[n]))return n;n-=1}return-1},t.findLast=function(e,t){let n=e.length-1;for(;n>=0;){if(t(e[n]))return e[n];n-=1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=e=>new Promise(t=>{setTimeout(t,e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(24);let s=!1;const a=[];let c=0;t.onBufEnter=function(e,t){const n=i.throttle(e,t,{tail:!0});return r.events.on("BufEnter",async e=>{if(s)return;const t=a.indexOf(e);-1===t?(o.enableDebug&&r.workspace.showMessage(`BufEnter: Bufnr(${e}), Count(${c++})`,"more"),n(e)):a.splice(t,1)})},t.skipOnBufEnter=function(e){a.push(...e)},t.avoidOnBufEnter=async function(e){let t;try{return s=!0,t=await e()}catch(e){throw e}finally{s=!1}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(5)),o=n(10),s=r(n(50)),a=r(n(59)),c=r(n(3)),l=n(32),u=n(17),d=n(2),f=r(n(64));async function h(e,n,r){const i=await t.fsReaddir(e);for(const o of i){const i=c.default.join(e,o),s=c.default.join(n,o);if(await t.fsExists(s)){const e=await t.fsLstat(i),n=await t.fsLstat(s);e.isDirectory()&&n.isDirectory()?await h(i,s,r):(await t.fsTrash(s),await r(i,s))}else await r(i,s)}}t.fsOpen=o.promisify(i.default.open),t.fsClose=o.promisify(i.default.close),t.fsTouch=async e=>await t.fsClose(await t.fsOpen(e,"w")),t.fsMkdirp=f.default,t.fsReaddir=o.promisify(i.default.readdir),t.fsReadlink=o.promisify(i.default.readlink),t.fsAccess=(e,t)=>new Promise(n=>{i.default.access(e,t,e=>{n(!e)})}),t.fsExists=t.fsAccess,t.fsStat=o.promisify(i.default.stat),t.fsLstat=o.promisify(i.default.lstat),t.fsCopyFile=o.promisify(i.default.copyFile),t.fsRename=o.promisify(i.default.rename),t.fsTrash=e=>a.default(e,{glob:!1}),t.fsRimraf=o.promisify(s.default),t.fsCopyFileRecursive=async function e(n,r){if((await t.fsLstat(n)).isDirectory()){await t.fsMkdirp(r);const i=await t.fsReaddir(n);for(const t of i)await e(c.default.join(n,t),c.default.join(r,t))}else await t.fsCopyFile(n,r)},t.fsMergeDirectory=h,t.overwritePrompt=async function e(n,r){var i;const o=async(e,n)=>{await t.fsMkdirp(c.default.dirname(n)),await r(e,n)};for(let f=0,p=n.length;f<p;f++){const g=n[f].source,m=n[f].target;if(!await t.fsExists(m)){await o(g,m);continue}const y="string"==typeof g?await t.fsLstat(g):null,v=await t.fsLstat(m);async function s(){const e=await d.input(`Rename: ${m} -> `,m,"file");if(e)return o(g,e);f-=1}async function a(){return await t.fsTrash(m),o(g,m)}function l(){f=p}async function u(e={}){var t,n;e=Object.assign(Object.assign({skip:null,rename:s,"force replace":a},e),{quit:l});const r=await d.prompt(`${m} already exists.`,Object.keys(e));if(r&&r in e)return null===(n=(t=e)[r])||void 0===n?void 0:n.call(t)}g&&(null===(i=y)||void 0===i?void 0:i.isDirectory())?v.isDirectory()?await u({merge:()=>h(g,m,o),"one by one":async()=>{const n=(await t.fsReaddir(g)).map(e=>({source:e,target:c.default.join(m,c.default.basename(e))}));await e(n,r)}}):await u():(v.isDirectory(),await u())}},t.listDrive=async function(){if(u.isWindows){return(await l.execCli("wmic",["logicaldisk","get","name"])).split("\n").map(e=>e.trim()).filter(e=>e.endsWith(":"))}throw new Error("not support listDrive in "+process.platform)}},function(e,t,n){const r=n(15),i=n(3),o=n(5);let s=void 0;try{s=n(26)}catch(e){}const a={nosort:!0,silent:!0};let c=0;const l="win32"===process.platform,u=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),!0!==e.disableGlob&&void 0===s)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||a},d=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r.equal(typeof n,"function","rimraf: callback function required"),r(t,"rimraf: invalid options argument provided"),r.equal(typeof t,"object","rimraf: options should be object"),u(t);let i=0,o=null,a=0;const l=(e,r)=>e?n(e):0===(a=r.length)?n():void r.forEach(e=>{const r=s=>{if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&i<t.maxBusyTries)return i++,setTimeout(()=>f(e,t,r),100*i);if("EMFILE"===s.code&&c<t.emfileWait)return setTimeout(()=>f(e,t,r),c++);"ENOENT"===s.code&&(s=null)}c=0,(e=>{o=o||e,0==--a&&n(o)})(s)};f(e,t,r)});if(t.disableGlob||!s.hasMagic(e))return l(null,[e]);t.lstat(e,(n,r)=>{if(!n)return l(null,[e]);s(e,t.glob,l)})},f=(e,t,n)=>{r(e),r(t),r("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):(r&&"EPERM"===r.code&&l&&h(e,t,r,n),i&&i.isDirectory()?g(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return l?h(e,t,r,n):g(e,t,r,n);if("EISDIR"===r.code)return g(e,t,r,n)}return n(r)})))},h=(e,t,n,i)=>{r(e),r(t),r("function"==typeof i),n&&r(n instanceof Error),t.chmod(e,438,r=>{r?i("ENOENT"===r.code?null:n):t.stat(e,(r,o)=>{r?i("ENOENT"===r.code?null:n):o.isDirectory()?g(e,t,n,i):t.unlink(e,i)})})},p=(e,t,n)=>{r(e),r(t),n&&r(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}let i;try{i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}i.isDirectory()?v(e,t,n):t.unlinkSync(e)},g=(e,t,n,i)=>{r(e),r(t),n&&r(n instanceof Error),r("function"==typeof i),t.rmdir(e,r=>{!r||"ENOTEMPTY"!==r.code&&"EEXIST"!==r.code&&"EPERM"!==r.code?r&&"ENOTDIR"===r.code?i(n):i(r):m(e,t,i)})},m=(e,t,n)=>{r(e),r(t),r("function"==typeof n),t.readdir(e,(r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach(r=>{d(i.join(e,r),t,r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))})})})},y=(e,t)=>{let n;if(u(t=t||{}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r(t,"rimraf: missing options"),r.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!s.hasMagic(e))n=[e];else try{t.lstatSync(e),n=[e]}catch(r){n=s.sync(e,t.glob)}if(n.length)for(let e=0;e<n.length;e++){const r=n[e];let i;try{i=t.lstatSync(r)}catch(e){if("ENOENT"===e.code)return;"EPERM"===e.code&&l&&p(r,t,e)}try{i&&i.isDirectory()?v(r,t,null):t.unlinkSync(r)}catch(e){if("ENOENT"===e.code)return;if("EPERM"===e.code)return l?p(r,t,e):v(r,t,e);if("EISDIR"!==e.code)throw e;v(r,t,e)}}},v=(e,t,n)=>{r(e),r(t),n&&r(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOENT"===r.code)return;if("ENOTDIR"===r.code)throw n;"ENOTEMPTY"!==r.code&&"EEXIST"!==r.code&&"EPERM"!==r.code||w(e,t)}},w=(e,t)=>{r(e),r(t),t.readdirSync(e).forEach(n=>y(i.join(e,n),t));const n=l?100:1;let o=0;for(;;){let r=!0;try{const i=t.rmdirSync(e,t);return r=!1,i}finally{if(++o<n&&r)continue}}};e.exports=d,d.sync=y},function(e,t,n){var r=n(3),i="win32"===process.platform,o=n(5),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var l=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else l=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,a,u,d=e,f={},h={};function p(){var t=l.exec(e);n=t[0].length,s=t[0],a=t[0],u="",i&&!h[a]&&(o.lstatSync(a),h[a]=!0)}for(p();n<e.length;){c.lastIndex=n;var g=c.exec(e);if(u=s,s+=g[0],a=u+g[1],n=c.lastIndex,!(h[a]||t&&t[a]===a)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,a))m=t[a];else{var y=o.lstatSync(a);if(!y.isSymbolicLink()){h[a]=!0,t&&(t[a]=a);continue}var v=null;if(!i){var w=y.dev.toString(32)+":"+y.ino.toString(32);f.hasOwnProperty(w)&&(v=f[w])}null===v&&(o.statSync(a),v=o.readlinkSync(a)),m=r.resolve(u,v),t&&(t[a]=m),i||(f[w]=v)}e=r.resolve(m,e.slice(n)),p()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var s,u,d,f,h=e,p={},g={};function m(){var t=l.exec(e);s=t[0].length,u=t[0],d=t[0],f="",i&&!g[d]?o.lstat(d,(function(e){if(e)return n(e);g[d]=!0,y()})):process.nextTick(y)}function y(){if(s>=e.length)return t&&(t[h]=e),n(null,e);c.lastIndex=s;var r=c.exec(e);return f=u,u+=r[0],d=f+r[1],s=c.lastIndex,g[d]||t&&t[d]===d?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,d)?b(t[d]):o.lstat(d,v)}function v(e,r){if(e)return n(e);if(!r.isSymbolicLink())return g[d]=!0,t&&(t[d]=d),process.nextTick(y);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(p.hasOwnProperty(s))return w(null,p[s],d)}o.stat(d,(function(e){if(e)return n(e);o.readlink(d,(function(e,t){i||(p[s]=t),w(e,t)}))}))}function w(e,i,o){if(e)return n(e);var s=r.resolve(f,i);t&&(t[o]=s),b(s)}function b(t){e=r.resolve(t,e.slice(s)),m()}m()}},function(e,t,n){var r=n(53),i=n(54);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[];var s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var d=c||l;var m=s.body.indexOf(",")>=0;if(!d&&!m)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];var y;if(d)y=s.body.split(/\.\./);else{if(1===(y=function e(t){if(!t)return[""];var n=[];var r=i("{","}",t);if(!r)return t.split(",");var o=r.pre;var s=r.body;var a=r.post;var c=o.split(",");c[c.length-1]+="{"+s+"}";var l=e(a);a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l));n.push.apply(n,c);return n}(s.body)).length)if(1===(y=e(y[0],!1).map(f)).length)return(w=s.post.length?e(s.post,!1):[""]).map((function(e){return s.pre+y[0]+e}))}var v=s.pre;var w=s.post.length?e(s.post,!1):[""];var b;if(d){var E=u(y[0]),x=u(y[1]),R=Math.max(y[0].length,y[1].length),N=3==y.length?Math.abs(u(y[2])):1,C=p;x<E&&(N*=-1,C=g);var _=y.some(h);b=[];for(var O=E;C(O,x);O+=N){var M;if(l)"\\"===(M=String.fromCharCode(O))&&(M="");else if(M=String(O),_){var I=R-M.length;if(I>0){var S=new Array(I+1).join("0");M=O<0?"-"+S+M.slice(1):S+M}}b.push(M)}}else b=r(y,(function(t){return e(t,!1)}));for(var T=0;T<b.length;T++)for(var k=0;k<w.length;k++){var L=v+b[T]+w[k];(!n||d||L)&&o.push(L)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(d)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function f(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function g(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,i,o,s,a,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(r=[],o=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),l]:((i=r.pop())<o&&(o=i,s=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[o,s])}return a}e.exports=r,r.range=o},function(e,t,n){try{var r=n(10);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(56)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){e.exports=p,p.GlobSync=g;var r=n(5),i=n(27),o=n(12),s=(o.Minimatch,n(26).Glob,n(10),n(3)),a=n(15),c=n(16),l=n(29),u=(l.alphasort,l.alphasorti,l.setopts),d=l.ownProp,f=l.childrenIgnored,h=l.isIgnored;function p(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new g(e,t).found}function g(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof g))return new g(e,t);if(u(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}g.prototype._finish=function(){if(a(this instanceof g),this.realpath){var e=this;this.matches.forEach((function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}}))}l.finish(this)},g.prototype._process=function(e,t,n){a(this instanceof g);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var s,l=e.slice(i);null===r?s=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),s=r):s=r;var u=this._makeAbs(s);f(this,s)||(l[0]===o.GLOBSTAR?this._processGlobStar(r,s,u,l,t,n):this._processReaddir(r,s,u,l,t,n))},g.prototype._processReaddir=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],l=!!this.minimatch.negate,u=c._glob,d=this.dot||"."===u.charAt(0),f=[],h=0;h<a.length;h++){if("."!==(m=a[h]).charAt(0)||d)(l&&!e?!m.match(c):m.match(c))&&f.push(m)}var p=f.length;if(0!==p)if(1!==r.length||this.mark||this.stat){r.shift();for(h=0;h<p;h++){var g;m=f[h];g=e?[e,m]:[m],this._process(g.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<p;h++){var m=f[h];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=s.join(this.root,m)),this._emitMatch(i,m)}}}},g.prototype._emitMatch=function(e,t){if(!h(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},g.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},g.prototype._readdir=function(e,t){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e);if(d(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},g.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},g.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},g.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,i,!1);var u=s.length;if(!this.symlinks[n]||!o)for(var d=0;d<u;d++){if("."!==s[d].charAt(0)||this.dot){var f=c.concat(s[d],a);this._process(f,i,!0);var h=c.concat(s[d],r);this._process(h,i,!0)}}}},g.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},g.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=s}else o=s}this.statCache[t]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},g.prototype._mark=function(e){return l.mark(this,e)},g.prototype._makeAbs=function(e){return l.makeAbs(this,e)}},function(e,t,n){var r=n(30),i=Object.create(null),o=n(31);function s(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=s(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},function(e,t){e.exports=require("trash")},function(e,t,n){const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(3),o=r?";":":",s=n(61),a=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const n=t.colon||o,i=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=r?s.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:i,pathExt:a,pathExtExe:s}},l=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:o,pathExtExe:l}=c(e,t),u=[],d=n=>new Promise((o,s)=>{if(n===r.length)return t.all&&u.length?o(u):s(a(e));const c=r[n],l=/^".*"$/.test(c)?c.slice(1,-1):c,d=i.join(l,e),h=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;o(f(h,n,0))}),f=(e,n,r)=>new Promise((i,a)=>{if(r===o.length)return i(d(n+1));const c=o[r];s(e+c,{pathExt:l},(o,s)=>{if(!o&&s){if(!t.all)return i(e+c);u.push(e+c)}return i(f(e,n,r+1))})});return n?d(0).then(e=>n(null,e),n):d(0)};e.exports=l,l.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:o}=c(e,t),l=[];for(let a=0;a<n.length;a++){const c=n[a],u=/^".*"$/.test(c)?c.slice(1,-1):c,d=i.join(u,e),f=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let e=0;e<r.length;e++){const n=f+r[e];try{if(s.sync(n,{pathExt:o})){if(!t.all)return n;l.push(n)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw a(e)}},function(e,t,n){var r;n(5);function i(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){i(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}r="win32"===process.platform||global.TESTING_WINDOWS?n(62):n(63),e.exports=i,i.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},function(e,t,n){e.exports=o,o.sync=function(e,t){return i(r.statSync(e),e,t)};var r=n(5);function i(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function o(e,t,n){r.stat(e,(function(r,o){n(r,!r&&i(o,e,t))}))}},function(e,t,n){e.exports=i,i.sync=function(e,t){return o(r.statSync(e),t)};var r=n(5);function i(e,t,n){r.stat(e,(function(e,r){n(e,!e&&o(r,t))}))}function o(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),l=parseInt("001",8),u=a|c;return n&l||n&c&&i===s||n&a&&r===o||n&u&&0===o}(e,t)}},function(e,t,n){"use strict";const r=n(5),i=n(3),{promisify:o}=n(10),s=n(65),a={mode:511&~process.umask(),fs:r},c=s.satisfies(process.version,">=10.12.0"),l=e=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(i.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},u=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};e.exports=async(e,t)=>{l(e),t={...a,...t};const n=o(t.fs.mkdir),s=o(t.fs.stat);if(c&&t.fs.mkdir===r.mkdir){const r=i.resolve(e);return await n(r,{mode:t.mode,recursive:!0}),r}const d=async e=>{try{return await n(e,t.mode),e}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(i.dirname(e)===e)throw u(e);if(t.message.includes("null bytes"))throw t;return await d(i.dirname(e)),d(e)}if(!(await s(e)).isDirectory())throw t;return e}};return d(i.resolve(e))},e.exports.sync=(e,t)=>{if(l(e),t={...a,...t},c&&t.fs.mkdirSync===r.mkdirSync){const n=i.resolve(e);return r.mkdirSync(n,{mode:t.mode,recursive:!0}),n}const n=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(r){if("EPERM"===r.code)throw r;if("ENOENT"===r.code){if(i.dirname(e)===e)throw u(e);if(r.message.includes("null bytes"))throw r;return n(i.dirname(e)),n(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw r}}return e};return n(i.resolve(e))}},function(e,t){var n;t=e.exports=f,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],s=t.src=[],a=t.tokens={},c=0;function l(e){a[e]=c++}l("NUMERICIDENTIFIER"),s[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",l("NUMERICIDENTIFIERLOOSE"),s[a.NUMERICIDENTIFIERLOOSE]="[0-9]+",l("NONNUMERICIDENTIFIER"),s[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",l("MAINVERSION"),s[a.MAINVERSION]="("+s[a.NUMERICIDENTIFIER]+")\\.("+s[a.NUMERICIDENTIFIER]+")\\.("+s[a.NUMERICIDENTIFIER]+")",l("MAINVERSIONLOOSE"),s[a.MAINVERSIONLOOSE]="("+s[a.NUMERICIDENTIFIERLOOSE]+")\\.("+s[a.NUMERICIDENTIFIERLOOSE]+")\\.("+s[a.NUMERICIDENTIFIERLOOSE]+")",l("PRERELEASEIDENTIFIER"),s[a.PRERELEASEIDENTIFIER]="(?:"+s[a.NUMERICIDENTIFIER]+"|"+s[a.NONNUMERICIDENTIFIER]+")",l("PRERELEASEIDENTIFIERLOOSE"),s[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[a.NUMERICIDENTIFIERLOOSE]+"|"+s[a.NONNUMERICIDENTIFIER]+")",l("PRERELEASE"),s[a.PRERELEASE]="(?:-("+s[a.PRERELEASEIDENTIFIER]+"(?:\\."+s[a.PRERELEASEIDENTIFIER]+")*))",l("PRERELEASELOOSE"),s[a.PRERELEASELOOSE]="(?:-?("+s[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[a.PRERELEASEIDENTIFIERLOOSE]+")*))",l("BUILDIDENTIFIER"),s[a.BUILDIDENTIFIER]="[0-9A-Za-z-]+",l("BUILD"),s[a.BUILD]="(?:\\+("+s[a.BUILDIDENTIFIER]+"(?:\\."+s[a.BUILDIDENTIFIER]+")*))",l("FULL"),l("FULLPLAIN"),s[a.FULLPLAIN]="v?"+s[a.MAINVERSION]+s[a.PRERELEASE]+"?"+s[a.BUILD]+"?",s[a.FULL]="^"+s[a.FULLPLAIN]+"$",l("LOOSEPLAIN"),s[a.LOOSEPLAIN]="[v=\\s]*"+s[a.MAINVERSIONLOOSE]+s[a.PRERELEASELOOSE]+"?"+s[a.BUILD]+"?",l("LOOSE"),s[a.LOOSE]="^"+s[a.LOOSEPLAIN]+"$",l("GTLT"),s[a.GTLT]="((?:<|>)?=?)",l("XRANGEIDENTIFIERLOOSE"),s[a.XRANGEIDENTIFIERLOOSE]=s[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",l("XRANGEIDENTIFIER"),s[a.XRANGEIDENTIFIER]=s[a.NUMERICIDENTIFIER]+"|x|X|\\*",l("XRANGEPLAIN"),s[a.XRANGEPLAIN]="[v=\\s]*("+s[a.XRANGEIDENTIFIER]+")(?:\\.("+s[a.XRANGEIDENTIFIER]+")(?:\\.("+s[a.XRANGEIDENTIFIER]+")(?:"+s[a.PRERELEASE]+")?"+s[a.BUILD]+"?)?)?",l("XRANGEPLAINLOOSE"),s[a.XRANGEPLAINLOOSE]="[v=\\s]*("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:"+s[a.PRERELEASELOOSE]+")?"+s[a.BUILD]+"?)?)?",l("XRANGE"),s[a.XRANGE]="^"+s[a.GTLT]+"\\s*"+s[a.XRANGEPLAIN]+"$",l("XRANGELOOSE"),s[a.XRANGELOOSE]="^"+s[a.GTLT]+"\\s*"+s[a.XRANGEPLAINLOOSE]+"$",l("COERCE"),s[a.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",l("COERCERTL"),o[a.COERCERTL]=new RegExp(s[a.COERCE],"g"),l("LONETILDE"),s[a.LONETILDE]="(?:~>?)",l("TILDETRIM"),s[a.TILDETRIM]="(\\s*)"+s[a.LONETILDE]+"\\s+",o[a.TILDETRIM]=new RegExp(s[a.TILDETRIM],"g");l("TILDE"),s[a.TILDE]="^"+s[a.LONETILDE]+s[a.XRANGEPLAIN]+"$",l("TILDELOOSE"),s[a.TILDELOOSE]="^"+s[a.LONETILDE]+s[a.XRANGEPLAINLOOSE]+"$",l("LONECARET"),s[a.LONECARET]="(?:\\^)",l("CARETTRIM"),s[a.CARETTRIM]="(\\s*)"+s[a.LONECARET]+"\\s+",o[a.CARETTRIM]=new RegExp(s[a.CARETTRIM],"g");l("CARET"),s[a.CARET]="^"+s[a.LONECARET]+s[a.XRANGEPLAIN]+"$",l("CARETLOOSE"),s[a.CARETLOOSE]="^"+s[a.LONECARET]+s[a.XRANGEPLAINLOOSE]+"$",l("COMPARATORLOOSE"),s[a.COMPARATORLOOSE]="^"+s[a.GTLT]+"\\s*("+s[a.LOOSEPLAIN]+")$|^$",l("COMPARATOR"),s[a.COMPARATOR]="^"+s[a.GTLT]+"\\s*("+s[a.FULLPLAIN]+")$|^$",l("COMPARATORTRIM"),s[a.COMPARATORTRIM]="(\\s*)"+s[a.GTLT]+"\\s*("+s[a.LOOSEPLAIN]+"|"+s[a.XRANGEPLAIN]+")",o[a.COMPARATORTRIM]=new RegExp(s[a.COMPARATORTRIM],"g");l("HYPHENRANGE"),s[a.HYPHENRANGE]="^\\s*("+s[a.XRANGEPLAIN]+")\\s+-\\s+("+s[a.XRANGEPLAIN]+")\\s*$",l("HYPHENRANGELOOSE"),s[a.HYPHENRANGELOOSE]="^\\s*("+s[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[a.XRANGEPLAINLOOSE]+")\\s*$",l("STAR"),s[a.STAR]="(<|>)?=?\\s*\\*";for(var u=0;u<c;u++)n(u,s[u]),o[u]||(o[u]=new RegExp(s[u]));function d(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof f)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[a.LOOSE]:o[a.FULL]).test(e))return null;try{return new f(e,t)}catch(e){return null}}function f(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof f){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof f))return new f(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=d,t.valid=function(e,t){var n=d(e,t);return n?n.version:null},t.clean=function(e,t){var n=d(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=f,f.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},f.prototype.toString=function(){return this.version},f.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof f||(e=new f(e,this.options)),this.compareMain(e)||this.comparePre(e)},f.prototype.compareMain=function(e){return e instanceof f||(e=new f(e,this.options)),p(this.major,e.major)||p(this.minor,e.minor)||p(this.patch,e.patch)},f.prototype.comparePre=function(e){if(e instanceof f||(e=new f(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return p(r,i)}while(++t)},f.prototype.compareBuild=function(e){e instanceof f||(e=new f(e,this.options));var t=0;do{var r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return p(r,i)}while(++t)},f.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new f(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(v(e,t))return null;var n=d(e),r=d(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=p;var h=/^[0-9]+$/;function p(e,t){var n=h.test(e),r=h.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function g(e,t,n){return new f(e,n).compare(new f(t,n))}function m(e,t,n){return g(e,t,n)>0}function y(e,t,n){return g(e,t,n)<0}function v(e,t,n){return 0===g(e,t,n)}function w(e,t,n){return 0!==g(e,t,n)}function b(e,t,n){return g(e,t,n)>=0}function E(e,t,n){return g(e,t,n)<=0}function x(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return v(e,n,r);case"!=":return w(e,n,r);case">":return m(e,n,r);case">=":return b(e,n,r);case"<":return y(e,n,r);case"<=":return E(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function R(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof R){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof R))return new R(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===N?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return p(t,e)},t.major=function(e,t){return new f(e,t).major},t.minor=function(e,t){return new f(e,t).minor},t.patch=function(e,t){return new f(e,t).patch},t.compare=g,t.compareLoose=function(e,t){return g(e,t,!0)},t.compareBuild=function(e,t,n){var r=new f(e,n),i=new f(t,n);return r.compare(i)||r.compareBuild(i)},t.rcompare=function(e,t,n){return g(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compareBuild(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.compareBuild(r,e,n)}))},t.gt=m,t.lt=y,t.eq=v,t.neq=w,t.gte=b,t.lte=E,t.cmp=x,t.Comparator=R;var N={};function C(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof C)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new C(e.raw,t);if(e instanceof R)return new C(e.value,t);if(!(this instanceof C))return new C(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function _(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n}function O(e){return!e||"x"===e.toLowerCase()||"*"===e}function M(e,t,n,r,i,o,s,a,c,l,u,d,f){return((t=O(n)?"":O(r)?">="+n+".0.0":O(i)?">="+n+"."+r+".0":">="+t)+" "+(a=O(c)?"":O(l)?"<"+(+c+1)+".0.0":O(u)?"<"+c+"."+(+l+1)+".0":d?"<="+c+"."+l+"."+u+"-"+d:"<="+a)).trim()}function I(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==N&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function S(e,t,n){try{t=new C(t,n)}catch(e){return!1}return t.test(e)}function T(e,t,n,r){var i,o,s,a,c;switch(e=new f(e,r),t=new C(t,r),n){case">":i=m,o=E,s=y,a=">",c=">=";break;case"<":i=y,o=b,s=m,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(S(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,h=null;if(u.forEach((function(e){e.semver===N&&(e=new R(">=0.0.0")),d=d||e,h=h||e,i(e.semver,d.semver,r)?d=e:s(e.semver,h.semver,r)&&(h=e)})),d.operator===a||d.operator===c)return!1;if((!h.operator||h.operator===a)&&o(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}R.prototype.parse=function(e){var t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new f(n[2],this.options.loose):this.semver=N},R.prototype.toString=function(){return this.value},R.prototype.test=function(e){if(n("Comparator.test",e,this.options.loose),this.semver===N||e===N)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return x(e,this.operator,this.semver,this.options)},R.prototype.intersects=function(e,t){if(!(e instanceof R))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new C(e.value,t),S(this.value,n,t));if(""===e.operator)return""===e.value||(n=new C(this.value,t),S(e.semver,n,t));var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=x(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=x(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=C,C.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},C.prototype.toString=function(){return this.range},C.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[a.HYPHENRANGELOOSE]:o[a.HYPHENRANGE];e=e.replace(r,M),n("hyphen replace",e),e=e.replace(o[a.COMPARATORTRIM],"$1$2$3"),n("comparator trim",e,o[a.COMPARATORTRIM]),e=(e=(e=e.replace(o[a.TILDETRIM],"$1~")).replace(o[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[a.CARETLOOSE]:o[a.CARET];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),O(r)?a="":O(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":O(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[a.TILDELOOSE]:o[a.TILDE];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),O(r)?a="":O(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":O(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[a.XRANGELOOSE]:o[a.XRANGE];return e.replace(r,(function(r,i,o,s,a,c){n("xRange",e,r,i,o,s,a,c);var l=O(o),u=l||O(s),d=u||O(a),f=d;return"="===i&&f&&(i=""),c=t.includePrerelease?"-0":"",l?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&f?(u&&(s=0),a=0,">"===i?(i=">=",u?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):"<="===i&&(i="<",u?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a+c):u?r=">="+o+".0.0"+c+" <"+(+o+1)+".0.0"+c:d&&(r=">="+o+"."+s+".0"+c+" <"+o+"."+(+s+1)+".0"+c),n("xRange return",r),r}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[a.STAR],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s=s.map((function(e){return new R(e,this.options)}),this)},C.prototype.intersects=function(e,t){if(!(e instanceof C))throw new TypeError("a Range is required");return this.set.some((function(n){return _(n,t)&&e.set.some((function(e){return _(e,t)&&n.every((function(n){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new C(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},C.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(I(this.set[t],e,this.options))return!0;return!1},t.satisfies=S,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new C(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new f(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new C(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new f(r=e,n)))})),r},t.minVersion=function(e,t){e=new C(e,t);var n=new f("0.0.0");if(e.test(n))return n;if(n=new f("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new f(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!m(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new C(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return T(e,t,"<",n)},t.gtr=function(e,t,n){return T(e,t,">",n)},t.outside=T,t.prerelease=function(e,t){var n=d(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new C(e,n),t=new C(t,n),e.intersects(t)},t.coerce=function(e,t){if(e instanceof f)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=o[a.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),o[a.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;o[a.COERCERTL].lastIndex=-1}else n=e.match(o[a.COERCE]);if(null===n)return null;return d(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(18)),o=r(n(3)),s=n(17);t.getExtensions=function(e){return function e(t,n){if(t.includes(".",1)){const r=o.default.extname(t);return n.unshift(r.slice(1)),e(o.default.basename(t,r),n)}return{basename:t,extensions:n}}(e,[])},t.normalizePath=function(e){let t=o.default.normalize(e);if("~"===t[0]&&(t=o.default.join(i.default.homedir(),t.slice(1))),s.isWindows&&/[a-z]:/.test(t)){t=t[0].toUpperCase()+t.slice(1)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0).workspace.nvim;t.execNotifyBlock=async function(e,t=!1){if(t||r.pauseNotification(),await e(),!t)return await r.resumeNotification()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),{nvim:i}=r.workspace;let o=null;t.supportSetbufline=async function(){return null===o&&(o=Boolean(await i.call("exists",["*setbufline"]))),o},t.supportBufferHighlight=function(){return!r.workspace.env.isVim||r.workspace.env.textprop},t.enableWrapscan=async function(){return!!await i.getOption("wrapscan")},t.prompt=async function(e,t,n){t||(t=["yes","no"],n="no");const r=n?t.indexOf(n):-1,o=await i.call("confirm",[e,t.map(e=>{let t=[...e].findIndex(e=>/[A-Z]/.test(e));return-1===t&&(t=0),e.slice(0,t)+"&"+e[t].toUpperCase()+e.slice(t+1)}).join("\n"),r+1]);return 0===o?null:t[o-1]||null},t.input=async function(e,t="",n){return await i.call("input",[e,t,n])||null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(70);t.queueAsyncFunction=function(e){let t=!1;const n=[];return async(...i)=>(t||(t=!0,r.setImmediate(async()=>{for(;n.length;){const e=n.shift();e.callback(await e.fn(...e.args))}t=!1})),await new Promise(t=>{n.push({args:i,fn:e,callback:e=>{t(e)}})}))}},function(e,t){e.exports=require("timers")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(72),o=n(126),s=n(8),a=n(19),c=n(2),l=n(42);t.ExplorerManager=class{constructor(e){this.context=e,this.bufferName="[coc-explorer]",this.filetype="coc-explorer",this.emitterDidAutoload=new r.Emitter,this.previousBufnr=new l.GlobalContextVars("previousBufnr"),this.previousWindowID=new l.GlobalContextVars("previousWindowID"),this.maxExplorerID=0,this.tabContainer={},this.rootPathRecords=new Set,this.nvim=r.workspace.nvim,this.mappings={},this.registeredMapping=!1,this.onRegisteredMapping=new r.Emitter,this.initedState={initedCount:0,list:["onRegisteredMapping","emitterDidAutoload"]},this.onInited=new r.Emitter,this.subscriptions=e.subscriptions,this.initedState.list.forEach(e=>{this[e].event(()=>{this.initedState.initedCount+=1,this.initedState.initedCount>=this.initedState.list.length&&this.onInited.fire()})}),this.emitterDidAutoload.event(()=>{this.registerMappings().catch(s.onError)}),this.updatePreviousBufnr(r.workspace.bufnr).catch(s.onError),this.subscriptions.push(c.onBufEnter(1,e=>{this.updatePreviousBufnr(e).catch(s.onError)}))}async currentTabId(){return await this.nvim.call("coc_explorer#tab_id")}async currentTabIdMax(){return await this.nvim.call("coc_explorer#tab_id_max")}async updatePreviousBufnr(e){if(!this.bufnrs().includes(e)){if(await this.nvim.getVar("&filetype")!==this.filetype){await this.previousBufnr.set(e);const t=await this.nvim.call("bufwinid",[e]);await this.previousWindowID.set(-1===t?null:t)}}}async prevWinnrByPrevBufnr(){const e=await this.previousBufnr.get();if(!e)return null;const t=await this.nvim.call("bufwinnr",[e]);return t<=0||(await this.winnrs()).includes(t)?null:t}async prevWinnrByPrevWindowID(){const e=await this.previousWindowID.get();if(!e)return null;const t=await this.nvim.call("win_id2win",[e]);return t<=0||(await this.winnrs()).includes(t)?null:t}bufnrs(){return this.explorers().map(e=>e.bufnr)}async winnrs(){const e=await this.currentTabId(),t=[],n=this.tabContainer[e];return n&&(t.push(...n.left),t.push(...n.right),t.push(...n.tab)),(await Promise.all(t.map(e=>e.winnr))).filter(e=>null!==e)}explorers(){const e=[];for(const t of Object.values(this.tabContainer))e.push(...t.left),e.push(...t.right),e.push(...t.tab);return e}async currentExplorer(){const e=r.workspace.bufnr;return this.explorers().find(t=>t.bufnr===e)}async registerMappings(){this.mappings={},Object.entries(a.mappings).forEach(([e,t])=>{this.mappings[e]={},["n","v"].forEach(n=>{if("v"===n&&["o","j","k"].includes(e))return;const i=`explorer-action-${n}-${e.replace(/\<(.*)\>/,"[$1]")}`;this.subscriptions.push(r.workspace.registerKeymap([n],i,async()=>{var e;const r=await this.nvim.eval("v:count");null===(e=await this.currentExplorer())||void 0===e||e.doActions(t,n,r||1).catch(s.onError)},{sync:!0})),this.mappings[e][n]=`<Plug>(coc-${i})`})}),await this.nvim.call("coc_explorer#register_mappings",[this.mappings]),this.registeredMapping=!0,this.onRegisteredMapping.fire()}async executeMappings(){await this.nvim.call("coc_explorer#execute_mappings",[this.mappings])}async clearMappings(){await this.nvim.call("coc_explorer#clear_mappings",[this.mappings])}async open(e){this.registeredMapping||await new Promise(e=>{this.onInited.event(e)});const t=await o.parseArgs(e),n="tab"===t.position?await this.currentTabIdMax()+1:await this.currentTabId();n in this.tabContainer||(this.tabContainer[n]={left:[],right:[],tab:[]});let r=[];"left"===t.position?r=this.tabContainer[n].left:"right"===t.position?r=this.tabContainer[n].right:"tab"===t.position&&(r=this.tabContainer[n].tab);const s=await this.nvim.eval('bufwinid(bufnr("%"))');let a=r[0];if(a)if(await this.nvim.call("bufexists",[a.bufnr]))if(await a.inited.get()){if(await a.win&&t.toggle)return void await a.quit();await a.resume(t)}else await this.nvim.command(`bwipeout! ${a.bufnr}`),a=await i.Explorer.create(this,t),r[0]=a;else a=await i.Explorer.create(this,t),r[0]=a;else a=await i.Explorer.create(this,t),r.push(a);await a.originWinid.set(s),await a.open(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(19),o=n(73);n(74);const s=n(20),a=n(2),c=n(1),l=n(42),u=n(33),d=c.hlGroupManager.linkGroup.bind(c.hlGroupManager),f={line:d("HelpLine","Operator"),mappingKey:d("HelpMappingKey","PreProc"),action:d("HelpAction","Identifier"),arg:d("HelpArg","Identifier"),description:d("HelpDescription","Comment")};class h{constructor(e,t,n){this.explorerID=e,this.explorerManager=t,this.bufnr=n,this.nvim=r.workspace.nvim,this.isHelpUI=!1,this.indexesManager=new o.IndexesManager(this),this.inited=new l.BuffuerContextVars("inited",this),this.originWinid=new l.BuffuerContextVars("originWinid",this),this.globalActions={},this.context=t.context,this.addGlobalAction("nodePrev",async()=>{const e=await this.currentLineIndex();null!==e&&await this.gotoLineIndex(e-1,1)},"previous node",{multi:!1}),this.addGlobalAction("nodeNext",async()=>{const e=await this.currentLineIndex();null!==e&&await this.gotoLineIndex(e+1,1)},"next node",{multi:!1}),this.addGlobalAction("normal",async(e,t)=>{await this.nvim.command("normal "+t)},"execute vim normal mode commands",{multi:!1}),this.addGlobalAction("quit",async()=>{await this.quit()},"quit explorer",{multi:!1}),this.addGlobalAction("gotoSource",async(e,t)=>{const n=this.sources.find(e=>e.sourceName===t);n&&await n.gotoLineIndex(0)},"go to source"),this.addGlobalAction("sourceNext",async()=>{const e=this.sources[await this.currentSourceIndex()+1];e?await e.gotoLineIndex(0):await a.enableWrapscan()&&await this.sources[0].gotoLineIndex(0)},"go to next source"),this.addGlobalAction("sourcePrev",async()=>{const e=this.sources[await this.currentSourceIndex()-1];e?await e.gotoLineIndex(0):await a.enableWrapscan()&&await this.sources[this.sources.length-1].gotoLineIndex(0)},"go to previous source"),this.addGlobalAction("diagnosticPrev",async()=>{await this.gotoPrevLineIndex("diagnosticError","diagnosticWarning")},"go to previous diagnostic"),this.addGlobalAction("diagnosticNext",async()=>{await this.gotoNextLineIndex("diagnosticError","diagnosticWarning")},"go to next diagnostic"),this.addGlobalAction("gitPrev",async()=>{await this.gotoPrevLineIndex("git")},"go to previous git changed"),this.addGlobalAction("gitNext",async()=>{await this.gotoNextLineIndex("git")},"go to next git changed")}static async create(e,t){e.maxExplorerID+=1;const n=await a.avoidOnBufEnter(async()=>{const n=await r.workspace.nvim.call("coc_explorer#create",[e.bufferName,e.maxExplorerID,t.position,t.width]);return new h(e.maxExplorerID,e,n)});return await n.inited.set(!0),n}get args(){if(!this._args)throw Error("Explorer args not initialized yet");return this._args}get sources(){if(!this._sources)throw Error("Explorer sources not initialized yet");return this._sources}get buffer(){return this._buffer||(this._buffer=this.nvim.createBuffer(this.bufnr)),this._buffer}get win(){return this.winid.then(e=>e?this.nvim.createWindow(e):null)}get winnr(){return this.nvim.call("bufwinnr",this.bufnr).then(e=>e>0?e:null)}get winid(){return this.winnr.then(async e=>{if(e){const t=await this.nvim.call("win_getid",e);return t>=0?t:null}return null})}async originWinnr(){const e=await this.originWinid.get();if(!e)return null;const t=await this.nvim.call("win_id2win",[e]);return t<=0||(await this.explorerManager.winnrs()).includes(t)?null:t}async executeHighlightSyntax(){const e=await this.winnr,t=await this.nvim.call("winnr");e&&await a.execNotifyBlock(async()=>{e!==t&&this.nvim.command(`${e}wincmd w`,!0),await c.hlGroupManager.executeHighlightSyntax(!0),e!==t&&this.nvim.command(`${t}wincmd w`,!0)})}async resume(e){const t=await this.win;t?await this.nvim.command(`${await t.number}wincmd w`):await this.nvim.call("coc_explorer#resume",[this.bufnr,e.position,e.width])}async open(e){this.isHelpUI&&await this.quitHelp(),await this.executeHighlightSyntax(),await this.initArgs(e),await a.execNotifyBlock(async()=>{for(const e of this.sources)await e.opened(!0);const e=this.sources.find(e=>e instanceof p.FileSource);let t=null;e&&(e.root=this.args.rootPath),e&&a.autoReveal&&this.args.revealPath&&(t=await e.revealNodeByPath(this.args.revealPath)),await this.reloadAll({render:!1,notify:!0}),await this.renderAll({notify:!0}),e&&a.autoReveal&&(null!==t?await e.gotoNode(t,{col:1,notify:!0}):await e.gotoRoot({col:1,notify:!0}))})}async quit(){const e=await this.win;e&&await this.nvim.command(`${await e.number}wincmd q`)}async initArgs(e){this._args=e,this.lastArgSources&&this.lastArgSources===e.sources.toString()||(this.lastArgSources=e.sources.toString(),this._sources=this.args.sources.map(e=>s.sourceManager.createSource(e.name,this,e.expand)).filter(e=>null!==e)),this.explorerManager.rootPathRecords.add(this.args.rootPath)}addGlobalAction(e,t,n,r={}){this.globalActions[e]={callback:t,description:n,options:r}}async doActions(e,t="n",n){for(var r=0;r<n;r++)for(const n of e)await this.doAction(n,t);await a.execNotifyBlock(async()=>{await Promise.all(this.sources.map(async e=>e.emitRequestRenderNodes(!0)))})}async doAction(e,t="n"){const{nvim:n}=this,i=Date.now(),o=[],s=await r.workspace.document;if("v"===t){const e=await r.workspace.getSelectedRange("v",s);if(e)for(let t=e.start.line;t<=e.end.line;t++)o.push(t)}else{const e=await n.call("line",".")-1;o.push(e)}const c=new Map;for(const e of o){const[t]=this.findSourceByLineIndex(e);if(t){c.has(t)||c.set(t,new Set);const n=e-t.startLine;c.get(t).add(0===n?null:t.flattenedNodes[n])}}if(await Promise.all(Array.from(c.entries()).map(async([n,r])=>{r.has(null)?await n.doRootAction(e.name,e.arg):await n.doAction(e.name,Array.from(r).filter(e=>e),e.arg,t)})),a.enableDebug){let t=e.name;e.arg&&(t+=":"+e.arg),r.workspace.showMessage(`action(${t}): ${Date.now()-i}ms`,"more")}}addIndexes(e,t){this.indexesManager.addLine(e,t)}removeIndexes(e,t){this.indexesManager.removeLine(e,t)}async gotoPrevLineIndex(...e){const t=await this.indexesManager.prevLineIndex(...e);return!!t&&(await this.gotoLineIndex(t),!0)}async gotoNextLineIndex(...e){const t=await this.indexesManager.nextLineIndex(...e);return!!t&&(await this.gotoLineIndex(t),!0)}findSourceByLineIndex(e){const t=this.sources.findIndex(t=>e<t.endLine);return-1===t?[null,-1]:[this.sources[t],t]}async currentSourceIndex(){const e=await this.currentLineIndex();return this.sources.findIndex(t=>e>=t.startLine&&e<=t.endLine)}async currentCursor(){const e=await this.win;if(e){const[t,n]=await e.cursor;return{lineIndex:t-1,col:n+1}}return null}async currentLineIndex(){const e=await this.currentCursor();return e?e.lineIndex:0}async currentCol(){const e=await this.currentCursor();return e?e.col:0}async storeCursor(){const e=await this.currentCursor();let t=await this.nvim.call("winsaveview");if(t={topline:t.topline},e){const[,n]=this.findSourceByLineIndex(e.lineIndex),r=this.sources[n];if(r){const n=e.lineIndex-r.startLine,i=r.getNodeByLine(n);return async(o=!1)=>{await a.execNotifyBlock(async()=>{this.nvim.call("winrestview",[t],!0),await r.gotoNode(i,{lineIndex:n,col:e.col,notify:!0})},o)}}}return async(e=!1)=>{await a.execNotifyBlock(()=>{this.nvim.call("winrestview",t,!0)},e)}}async gotoLineIndex(e,t,n=!1){await a.execNotifyBlock(async()=>{const n=void 0===t?await this.currentCol():t,r=await this.win;r&&(r.setCursor([e+1,n-1],!0),await this.explorerManager.currentExplorer()||this.nvim.command("redraw!",!0))},n)}async setLines(e,t,n,r=!1){await a.execNotifyBlock(async()=>{this.buffer.setOption("modifiable",!0,!0),await this.buffer.setLines(e,{start:t,end:n},!0),this.buffer.setOption("modifiable",!1,!0)},r)}async reloadAll({render:e=!0,notify:t=!1}={}){await a.execNotifyBlock(async()=>{await Promise.all(this.sources.map(e=>e.reload(e.rootNode,{render:!1,notify:!0}))),e&&await this.renderAll({notify:!0,storeCursor:!1})},t)}async renderAll({notify:e=!1,storeCursor:t=!1}={}){await a.execNotifyBlock(async()=>{const e=t?await this.storeCursor():null;for(const e of this.sources)await e.render({notify:!0,storeCursor:!1,force:!0});e&&await e(!0)},e)}async selectWindowsUI(e,t=(()=>{})){const n=await this.nvim.call("coc_explorer#select_wins",[this.explorerManager.bufferName,a.config.get("openAction.select.filterFloatWindows")]);n>0?await Promise.resolve(e(n)):0===n&&await Promise.resolve(t())}async openHelp(e,t){this.isHelpUI=!0;const n=new u.SourceViewBuilder,o=await this.nvim.call("winwidth","%"),s=await this.storeCursor(),c=[];c.push(await n.drawLine(n=>{n.add(`Help for [${e.sourceName}${t?" root":""}], (use q or <esc> return to explorer)`)})),c.push(await n.drawLine(e=>{e.add("—".repeat(o),f.line)}));const l=Object.assign(Object.assign({},this.globalActions),t?e.rootActions:e.actions),d=(e,t)=>{e.add(t.name,f.action),t.arg&&e.add(`(${t.arg})`,f.arg),e.add(" "),e.add(l[t.name].description,f.description)};for(const[e,t]of Object.entries(i.mappings))if(t.every(e=>e.name in l)){c.push(await n.drawLine(n=>{n.add(" "),n.add(e,f.mappingKey),n.add(" - "),d(n,t[0])}));for(const r of t.slice(1))c.push(await n.drawLine(t=>{t.add(" ".repeat(e.length+4)),d(t,r)}))}await a.execNotifyBlock(async()=>{await this.setLines(c,0,-1,!0)}),await this.explorerManager.clearMappings();const h=[];await new Promise(e=>{["<esc>","q"].forEach(t=>{h.push(r.workspace.registerLocalKeymap("n",t,()=>{e()},!0))})}),h.forEach(e=>e.dispose()),await this.quitHelp(),await this.renderAll({storeCursor:!1}),await s()}async quitHelp(){await this.explorerManager.executeMappings(),this.isHelpUI=!1}}t.Explorer=h;const p=n(35)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.IndexesManager=class{constructor(e){this.explorer=e,this.linesMap=new Map}addLine(e,t){this.linesMap.has(e)||this.linesMap.set(e,new Set),this.linesMap.get(e).add(t)}removeLine(e,t){this.linesMap.has(e)||this.linesMap.set(e,new Set),this.linesMap.get(e).delete(t)}async prevLineIndex(...e){let t=[];for(const n of e){const e=this.linesMap.get(n);t=t.concat(e?Array.from(e):[])}if(t.length){const e=await this.explorer.currentLineIndex(),n=t.sort((e,t)=>t-e),i=n.find(t=>t<e);if(i)return i;if(await r.enableWrapscan())return n[0]}return null}async nextLineIndex(...e){let t=[];for(const n of e){const e=this.linesMap.get(n);t=t.concat(e?Array.from(e):[])}if(t.length){const e=await this.explorer.currentLineIndex(),n=t.sort((e,t)=>e-t),i=n.find(t=>t>e);if(i)return i;if(await r.enableWrapscan())return n[0]}return null}removeLines(e,t=1/0){if(Array.isArray(e))this.linesMap.forEach(t=>{e.forEach(e=>{t.delete(e)})});else{const n=e;this.linesMap.forEach(e=>{e.forEach(r=>{n<=r&&r<=t&&e.delete(r)})})}}offsetLines(e,t,n=1/0){this.linesMap.forEach((r,i)=>{const o=new Set;r.forEach(r=>{o.add(t<=r&&r<=n?r+e:r)}),this.linesMap.set(i,o)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(75),n(35)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=r(n(3)),s=n(2),a=n(1),c=n(6),l=n(20),u=n(9);n(78);const d=n(86),f=/^\s*(\d+)(.+?)"(.+?)".*/,h=a.hlGroupManager.linkGroup.bind(a.hlGroupManager),p={title:h("BufferRoot","Constant"),expandIcon:h("BufferExpandIcon","Special")};class g extends c.ExplorerSource{constructor(){super(...arguments),this.rootNode={uid:this.sourceName+"://",level:0,drawnLine:"",bufnr:0,bufnrStr:"0",bufname:"",fullpath:"",basename:"",unlisted:!0,current:!1,previous:!1,visible:!1,hidden:!1,modifiable:!1,readonly:!0,terminal:!1,modified:!1,readErrors:!1}}async init(){await this.columnManager.registerColumns(this.explorer.args.bufferColumns,u.bufferColumnRegistrar),s.activeMode&&(i.workspace.env.isVim?this.subscriptions.push(s.onBufEnter(500,async e=>{e===this.explorer.bufnr&&await this.reload(this.rootNode,{render:!1})})):this.subscriptions.push(i.events.on(["BufCreate","BufHidden","BufUnload","BufWritePost","InsertLeave"],s.debounce(500,async()=>{await this.reload(this.rootNode)})))),d.initBufferActions(this)}async loadChildren(){const{nvim:e}=this,t=this.showHidden?"ls!":"ls";return(await e.call("execute",t)).split(/\n/).reduce((e,t)=>{const n=t.match(f);if(!n)return e;const r=n[1],i=n[2],a=n[3];return e.push({uid:this.sourceName+"://"+r,level:1,drawnLine:"",parent:this.rootNode,bufnr:parseInt(r),bufnrStr:r,bufname:a,fullpath:o.default.resolve(s.normalizePath(a)),basename:o.default.basename(a),unlisted:i.includes("u"),current:i.includes("%"),previous:i.includes("#"),visible:i.includes("a"),hidden:i.includes("h"),modifiable:!i.includes("-"),readonly:i.includes("="),terminal:i.includes("R")||i.includes("F")||i.includes("?"),modified:i.includes("+"),readErrors:i.includes("x")}),e},[])}async drawNode(e,t){e.parent?e.drawnLine=await this.viewBuilder.drawLine(async n=>{n.add("  "),await this.columnManager.draw(n,e,t)}):e.drawnLine=await this.viewBuilder.drawLine(async e=>{e.add(this.expanded?c.sourceIcons.expanded:c.sourceIcons.collapsed,p.expandIcon),e.add(" "),e.add(`[BUFFER${this.showHidden?" "+c.sourceIcons.hidden:""}]`,p.title)})}}t.BufferSource=g,l.sourceManager.registerSource("buffer",g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(8);class o extends r.BasicList{constructor(e){super(e),this.defaultAction="do",this.name="explorerActions",this.explorerActions=[],this.addAction("do",e=>{new Promise(async t=>{e.data.root?await e.data.callback():await e.data.callback(e.data.nodes),t()}).catch(i.onError)})}setExplorerActions(e){this.explorerActions=e}async loadItems(){return this.explorerActions.map(e=>({label:`${e.name} [${e.key||""}] ${e.description}`,data:{root:e.root,callback:e.callback,nodes:e.nodes}}))}doHighlight(){const{nvim:e}=this;e.pauseNotification(),e.command("syntax match CocExplorerActionName /\\v^\\w+/",!0),e.command("syntax match CocExplorerActionKey /\\v\\[.*\\]/",!0),e.command("syntax match CocExplorerActionDescription /\\v\\] \\zs.*/",!0),e.command("highlight default link CocExplorerActionName PreProc",!0),e.command("highlight default link CocExplorerActionKey Identifier",!0),e.command("highlight default link CocExplorerActionDescription Comment",!0),e.resumeNotification().catch(i.onError)}}t.ExplorerActionList=o,t.explorerActionList=new o(r.workspace.nvim)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ColumnManager=class{constructor(e){this.source=e,this.columnNames=[],this.columns=[]}async registerColumns(e,t){this.columnNames.toString()!==e.toString()&&(this.columnNames=e,this.columns=await t.getColumns(this.source,e))}async beforeDraw(e){let t=!1;for(const n of this.columns)n.beforeDraw&&await n.beforeDraw(e)&&(t=!0);return t}async reload(e){for(const t of this.columns)await(t.reload&&t.reload(e))}async draw(e,t,n){for(const r of this.columns)r.concealable?e.concealableColumn(r.concealable,async()=>{await r.draw(e,t,n)}):await r.draw(e,t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(79),n(80),n(81),n(82),n(83),n(84),n(85)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),i=n(6),o=n(1).hlGroupManager.concealable("BufferSelection");r.bufferColumnRegistrar.registerColumn("selection",e=>({concealable:o,async beforeDraw(){var t,n;e.isSelectedAny()?null===(t=this.concealable)||void 0===t||t.requestShow():null===(n=this.concealable)||void 0===n||n.requestHide()},draw(t,n){t.add(e.isSelectedNode(n)?i.sourceIcons.selected:i.sourceIcons.unselected),t.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(9),o={nameVisible:r.hlGroupManager.linkGroup("BufferNameVisible","String")};i.bufferColumnRegistrar.registerColumn("name",()=>({draw(e,t){t.visible?e.add(t.basename,o.nameVisible):e.add(t.basename),e.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),i={bufname:n(1).hlGroupManager.linkGroup("BufferBufname","Comment")};r.bufferColumnRegistrar.registerColumn("bufname",()=>({draw(e,t){t.basename!==t.bufname&&(e.add(t.bufname,i.bufname),e.add(" "))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),i={modified:n(1).hlGroupManager.linkGroup("BufferModified","Operator")};r.bufferColumnRegistrar.registerColumn("modified",()=>({draw(e,t){e.add(t.modified?"+":t.modifiable?"":"-",i.modified),e.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),i=n(1),o=n(2),s={bufnr:i.hlGroupManager.linkGroup("BufferBufnr","Special")};r.bufferColumnRegistrar.registerColumn("bufnr",(e,t)=>({beforeDraw(e){const n=o.max(e.map(e=>e.bufnrStr.length));if(t.maxBufnrWidth!==n)return t.maxBufnrWidth=n,!0},draw(e,n){e.add(n.bufnrStr.padStart(t.maxBufnrWidth),s.bufnr),e.add(" ")}}),()=>({maxBufnrWidth:0}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),i=n(1),o=n(6),s={readonly:i.hlGroupManager.linkGroup("BufferReadonly","Operator")};r.bufferColumnRegistrar.registerColumn("readonly",()=>({draw(e,t){t.readonly&&(e.add(t.readonly?o.enableNerdfont?"":"RO":"",s.readonly),e.add(" "))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),i={fullpath:n(1).hlGroupManager.linkGroup("BufferFullpath","Comment")};r.bufferColumnRegistrar.registerColumn("fullpath",()=>({draw(e,t){t.basename!==t.bufname&&(e.add(t.fullpath,i.fullpath),e.add(" "))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.initBufferActions=function(e){const{nvim:t}=e;e.addAction("collapse",async()=>{e.expanded=!1,await e.reload(e.rootNode),await e.gotoRoot()},"collapse root node"),e.addRootAction("expand",async()=>{e.expanded=!0,await e.reload(e.rootNode)},"expand root node"),e.addNodesAction("expand",async t=>{await e.doAction("open",t)},"open buffer"),e.addNodeAction("open",async n=>{await e.openAction(n,async i=>{await r.avoidOnBufEnter(async()=>{await e.nvim.command(`${i}wincmd w`)}),await t.command(`buffer ${n.bufnr}`)})},"open buffer",{multi:!1}),e.addNodeAction("drop",async n=>{if(!n.hidden){const r=await t.call("getbufinfo",n.bufnr);if(r.length&&r[0].windows.length){const n=r[0].windows[0];return await t.call("win_gotoid",n),void await e.quitOnOpen()}}await t.command(`buffer ${n.bufnr}`),await e.quitOnOpen()},"open buffer via drop command",{multi:!1}),e.addNodeAction("openInTab",async n=>{await e.quitOnOpen();const r=await t.call("fnameescape",n.bufname);await t.command(`tabe ${r}`)},"open buffer via tab"),e.addNodeAction("openInSplit",async n=>{await t.command(`sbuffer ${n.bufnr}`),await e.quitOnOpen()},"open buffer via split command"),e.addNodeAction("openInVsplit",async n=>{await r.execNotifyBlock(async()=>{t.command(`vertical sbuffer ${n.bufnr}`,!0),"left"===e.explorer.args.position?t.command("wincmd L",!0):"right"===e.explorer.args.position?t.command("wincmd H",!0):"tab"===e.explorer.args.position&&t.command("wincmd L",!0),await e.quitOnOpen()})},"open buffer via vsplit command"),e.addNodeAction("delete",async e=>{await t.command(`bdelete ${e.bufnr}`)},"delete buffer",{reload:!0}),e.addNodeAction("deleteForever",async e=>{await t.command(`bwipeout ${e.bufnr}`)},"bwipeout buffer",{reload:!0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(88),n(91),n(92),n(37),n(38),n(94),n(95),n(97),n(98),n(99),n(100),n(101),n(102)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(89)),o=n(1),s=n(4),a=n(36),c=r(n(3)),l=n(0),u=n(2),d={stage:o.hlGroupManager.linkGroup("FileGitStage","Comment"),unstage:o.hlGroupManager.linkGroup("FileGitUnstage","Operator")},f=e=>s.fileColumnRegistrar.getColumnConfig("git.icon."+e),h={[a.GitFormat.mixed]:f("mixed"),[a.GitFormat.unmodified]:f("unmodified"),[a.GitFormat.modified]:f("modified"),[a.GitFormat.added]:f("added"),[a.GitFormat.deleted]:f("deleted"),[a.GitFormat.renamed]:f("renamed"),[a.GitFormat.copied]:f("copied"),[a.GitFormat.unmerged]:f("unmerged"),[a.GitFormat.untracked]:f("untracked"),[a.GitFormat.ignored]:f("ignored")};s.fileColumnRegistrar.registerColumn("git",(e,t)=>({init(){const n=(e,t)=>e.x===t.x&&e.y===t.y;e.subscriptions.push(l.events.on("BufWritePost",u.debounce(1e3,async r=>{const i=await e.nvim.call("getbufinfo",[r]);if(i[0]&&i[0].name){const r=i[0].name,o=c.default.basename(r),s=c.default.dirname(r);await a.gitManager.reload(s);const l=await a.gitManager.getStatuses(s),u=new Set;if(".gitignore"===o){for(const e of Object.keys(l))u.add(e);for(const e of Object.keys(t.prevStatuses))u.add(e)}else{for(const[e,r]of Object.entries(l)){if(e in t.prevStatuses){if(n(t.prevStatuses[e],r))continue;delete t.prevStatuses[e]}u.add(e)}for(const e of Object.keys(t.prevStatuses))u.add(e)}await e.renderPaths(u),t.prevStatuses=l}})))},async validate(){try{return await i.default("git"),!0}catch(e){return!1}},async reload(n){const r="isRoot"in n?e.root:n.directory?n.fullpath:c.default.dirname(n.fullpath);await a.gitManager.reload(r),t.prevStatuses=await a.gitManager.getStatuses(r)},draw(t,n,r){const i=(e,n)=>{t.add(e,n?d.stage:d.unstage)},o=a.gitManager.getStatus(n.fullpath);o?(i(h[o.x],!0),i(h[o.y],!1),t.add(" "),e.addIndexes("git",r)):(t.add("   "),e.removeIndexes("git",r))}}),()=>({prevStatuses:{}}))},function(e,t,n){e.exports=n(90)},function(e,t,n){"use strict";var r=n(13).exec,i=n(13).execSync,o=n(5),s=n(3),a=o.access,c=o.accessSync,l=o.constants||o,u="win32"==process.platform,d=function(e,t,n){!function(e,t){a(e,l.F_OK,(function(e){t(!e)}))}(e,(function(i){if(i)!function(e,t){a(e,l.F_OK|l.X_OK,(function(e){t(null,!e)}))}(e,n);else r("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }",(function(e,t,r){n(null,!!t)}))}))},f=function(e,t){if(function(e){try{return c(e,l.F_OK),!1}catch(e){return!0}}(e))try{return!!i("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }")}catch(e){return!1}return function(e){try{return c(e,l.F_OK|l.X_OK),!0}catch(e){return!1}}(e)},h=function(e){return/[^A-Za-z0-9_\/:=-]/.test(e)&&(e=(e="'"+e.replace(/'/g,"'\\''")+"'").replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),e};u&&(h=function(e){return/[\\]/.test(e)?'"'+s.dirname(e)+'"'+":"+('"'+s.basename(e)+'"'):'"'+e+'"'}),e.exports=function e(t,n){var i=h(t);if(!n&&"undefined"!=typeof Promise)return new Promise((function(n,r){e(t,(function(e,i){i?n(t):r(e)}))}));u?function(e,t,n){if(/[\x00-\x1f<>:"\|\?\*]/.test(e))n(null,!1);else r("where "+t,(function(e){n(null,null===e)}))}(t,i,n):d(t,i,n)},e.exports.sync=function(e){var t=h(e);return u?function(e,t,n){if(/[\x00-\x1f<>:"\|\?\*]/.test(e))return!1;try{return!!i("where "+t,{stdio:[]})}catch(e){return!1}}(e,t):f(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(6),o=n(1).hlGroupManager.concealable("FileSelection");r.fileColumnRegistrar.registerColumn("selection",e=>({concealable:o,async beforeDraw(){var t,n;e.isSelectedAny()?null===(t=this.concealable)||void 0===t||t.requestShow():null===(n=this.concealable)||void 0===n||n.requestHide()},draw(t,n){t.add(e.isSelectedNode(n)?i.sourceIcons.selected:i.sourceIcons.unselected),t.add(" ")}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(6),s=r(n(93)),a=n(37),c=n(1),l=n(2),u=n(0),d=n(39),f=l.config.get("icon.enableVimDevions");t.nerdfont=s.default;const h=l.config.get("icon.customIcons");Object.assign(t.nerdfont.icons,h.icons),Object.assign(t.nerdfont.extensions,h.extensions),Object.assign(t.nerdfont.filenames,h.filenames),Object.assign(t.nerdfont.patternMatches,h.patternMatches),t.nerdfontHighlights={},Object.entries(t.nerdfont.icons).forEach(([e,n])=>{t.nerdfontHighlights[e]=c.hlGroupManager.group(`FileIconNerdfont_${e}`,`guifg=${n.color}`)});const p=Symbol("icon-column");function g(e){return d.getSymbol(e,p,()=>({devicons:""}))}i.fileColumnRegistrar.registerColumn("icon",e=>({async beforeDraw(e){f&&await Promise.all(e.map(async e=>{g(e).devicons=await u.workspace.nvim.call("WebDevIconsGetFileTypeSymbol",[e.name,!1])}))},async draw(n,r){if(r.directory)o.enableNerdfont?n.add(e.expandStore.isExpanded(r)?t.nerdfont.icons.folderOpened.code:t.nerdfont.icons.folderClosed.code,a.highlights.directory):n.add(e.expandStore.isExpanded(r)?o.sourceIcons.expanded:o.sourceIcons.collapsed,a.highlights.directory),n.add(" ");else{if(o.enableNerdfont){const e=function(e){const{extensions:n,basename:r}=l.getExtensions(e),i=n[n.length-1];if(t.nerdfont.filenames.hasOwnProperty(r)){const e=t.nerdfont.filenames[r];return Object.assign({name:e},t.nerdfont.icons[e])}if(t.nerdfont.filenames.hasOwnProperty(e)){const n=t.nerdfont.filenames[e];return Object.assign({name:n},t.nerdfont.icons[n])}const o=Object.entries(t.nerdfont.patternMatches).find(([t])=>new RegExp(t).test(e));if(o){const e=o[1];return Object.assign({name:e},t.nerdfont.icons[e])}if(t.nerdfont.extensions.hasOwnProperty(i)){const e=t.nerdfont.extensions[i];return Object.assign({name:e},t.nerdfont.icons[e])}}(r.name.toLowerCase());e&&f&&(e.code=g(r).devicons),e?n.add(e.code,t.nerdfontHighlights[e.name]):r.hidden?n.add(t.nerdfont.icons.fileHidden.code,t.nerdfontHighlights.fileHidden):n.add(t.nerdfont.icons.file.code,t.nerdfontHighlights.file)}else n.add(" ");n.add(" ")}}}))},function(e){e.exports=JSON.parse('{"icons":{"folderClosed":{"code":"","color":"#00afaf"},"folderOpened":{"code":"","color":"#00afaf"},"folderSymlink":{"code":"","color":"#00afaf"},"file":{"code":"","color":"#999999"},"fileSymlink":{"code":"","color":"#999999"},"fileHidden":{"code":"﬒","color":"#999999"},"excel":{"code":"","color":"#207245"},"word":{"code":"","color":"#185abd"},"ppt":{"code":"","color":"#cb4a32"},"stylus":{"code":"","color":"#8dc149"},"sass":{"code":"","color":"#f55385"},"html":{"code":"","color":"#e37933"},"xml":{"code":"謹","color":"#e37933"},"ejs":{"code":"","color":"#cbcb41"},"css":{"code":"","color":"#519aba"},"webpack":{"code":"ﰩ","color":"#519aba"},"markdown":{"code":"","color":"#519aba"},"json":{"code":"","color":"#cbcb41"},"javascript":{"code":"","color":"#cbcb41"},"javascriptreact":{"code":"","color":"#519aba"},"ruby":{"code":"","color":"#cc3e44"},"php":{"code":"","color":"#a074c4"},"python":{"code":"","color":"#519aba"},"coffee":{"code":"","color":"#cbcb41"},"mustache":{"code":"","color":"#e37933"},"conf":{"code":"","color":"#6d8086"},"image":{"code":"","color":"#a074c4"},"ico":{"code":"","color":"#cbcb41"},"twig":{"code":"","color":"#8dc149"},"c":{"code":"","color":"#519aba"},"h":{"code":"","color":"#a074c4"},"haskell":{"code":"","color":"#a074c4"},"lua":{"code":"","color":"#519aba"},"java":{"code":"","color":"#cc3e44"},"terminal":{"code":"","color":"#4d5a5e"},"ml":{"code":"λ","color":"#e37933"},"diff":{"code":"","color":"#41535b"},"sql":{"code":"","color":"#f55385"},"clojure":{"code":"","color":"#8dc149"},"edn":{"code":"","color":"#519aba"},"scala":{"code":"","color":"#cc3e44"},"go":{"code":"","color":"#519aba"},"dart":{"code":"","color":"#03589C"},"firefox":{"code":"","color":"#e37933"},"vs":{"code":"","color":"#854CC7"},"perl":{"code":"","color":"#519aba"},"rss":{"code":"","color":"FB9D3B"},"csharp":{"code":"","color":"#519aba"},"fsharp":{"code":"","color":"#519aba"},"rust":{"code":"","color":"#519aba"},"dlang":{"code":"","color":"#cc3e44"},"erlang":{"code":"","color":"#A90533"},"elixir":{"code":"","color":"#a074c4"},"mix":{"code":"","color":"#cc3e44"},"vim":{"code":"","color":"#019833"},"ai":{"code":"","color":"#cbcb41"},"psd":{"code":"","color":"#519aba"},"psb":{"code":"","color":"#519aba"},"typescript":{"code":"","color":"#519aba"},"typescriptreact":{"code":"","color":"#519aba"},"julia":{"code":"","color":"#a074c4"},"puppet":{"code":"","color":"#cbcb41"},"vue":{"code":"﵂","color":"#8dc149"},"swift":{"code":"","color":"#e37933"},"gitconfig":{"code":"","color":"#41535b"},"bashrc":{"code":"","color":"#4d5a5e"},"favicon":{"code":"","color":"#cbcb41"},"docker":{"code":"","color":"#519aba"},"gruntfile":{"code":"","color":"#e37933"},"gulpfile":{"code":"","color":"#cc3e44"},"dropbox":{"code":"","color":"#0061FE"},"license":{"code":"","color":"#cbcb41"},"procfile":{"code":"","color":"#a074c4"},"jquery":{"code":"","color":"#1B75BB"},"angular":{"code":"","color":"#E23237"},"backbone":{"code":"","color":"#0071B5"},"requirejs":{"code":"","color":"#F44A41"},"materialize":{"code":"","color":"#EE6E73"},"mootools":{"code":"","color":"#ECECEC"},"vagrant":{"code":"","color":"#1563FF"},"svg":{"code":"ﰟ","color":"#FFB13B"},"font":{"code":"","color":"#999999"},"text":{"code":"","color":"#999999"},"archive":{"code":"","color":"#cc3e44"},"lock":{"code":"","color":"#999999"}},"extensions":{"styl":"stylus","sass":"sass","scss":"sass","htm":"html","html":"html","slim":"html","xml":"xml","xaml":"xml","ejs":"ejs","css":"css","less":"css","md":"markdown","mdx":"markdown","markdown":"markdown","rmd":"markdown","lock":"lock","json":"json","js":"javascript","es6":"javascript","jsx":"javascriptreact","rb":"ruby","ru":"ruby","php":"php","py":"python","pyc":"python","pyo":"python","pyd":"python","coffee":"coffee","mustache":"mustache","hbs":"mustache","config":"conf","conf":"conf","ini":"conf","yml":"conf","yaml":"conf","toml":"conf","jpg":"image","jpeg":"image","bmp":"image","png":"image","gif":"image","ico":"ico","twig":"twig","cpp":"c","c++":"c","cxx":"c","cc":"c","cp":"c","c":"c","h":"h","hpp":"h","hxx":"h","hs":"haskell","lhs":"haskell","lua":"lua","java":"java","jar":"java","sh":"terminal","fish":"terminal","bash":"terminal","zsh":"terminal","ksh":"terminal","csh":"terminal","awk":"terminal","ps1":"terminal","bat":"terminal","cmd":"terminal","ml":"ml","mli":"ml","diff":"diff","db":"sql","sql":"sql","dump":"sql","accdb":"sql","clj":"clojure","cljc":"clojure","cljs":"clojure","edn":"edn","scala":"scala","go":"go","dart":"dart","xul":"firefox","pl":"perl","pm":"perl","t":"perl","rss":"rss","sln":"vs","suo":"vs","csproj":"vs","cs":"csharp","fsscript":"fsharp","fsx":"fsharp","fs":"fsharp","fsi":"fsharp","rs":"rust","rlib":"rust","d":"dlang","erl":"erlang","hrl":"erlang","ex":"elixir","exs":"elixir","exx":"elixir","leex":"elixir","vim":"vim","ai":"ai","psd":"psd","psb":"psd","ts":"typescript","tsx":"javascriptreact","jl":"julia","pp":"puppet","vue":"vue","swift":"swift","xcplayground":"swift","svg":"svg","otf":"font","ttf":"font","fnt":"font","txt":"text","text":"text","zip":"archive","tar":"archive","gz":"archive","gzip":"archive","rar":"archive","7z":"archive","iso":"archive","doc":"word","docx":"word","docm":"word","csv":"excel","xls":"excel","xlsx":"excel","xlsm":"excel","ppt":"ppt","pptx":"ppt","pptm":"ppt"},"filenames":{"gruntfile":"gruntfile","gulpfile":"gulpfile","gemfile":"ruby","guardfile":"ruby","capfile":"ruby","rakefile":"ruby","mix":"mix","dropbox":"dropbox","vimrc":"vim",".vimrc":"vim",".gvimrc":"vim","_vimrc":"vim","_gvimrc":"vim","license":"license","procfile":"procfile","Vagrantfile":"vagrant","docker-compose.yml":"docker",".gitconfig":"gitconfig",".gitignore":"gitconfig","webpack":"webpack",".bashrc":"bashrc",".zshrc":"bashrc",".bashprofile":"bashrc","favicon.ico":"favicon","dockerfile":"docker"},"patternMatches":{".*jquery.*.js$":"jquery",".*angular.*.js$":"angular",".*backbone.*.js$":"backbone",".*require.*.js$":"requirejs",".*materialize.*.js$":"materialize",".*materialize.*.css$":"materialize",".*mootools.*.js$":"mootools"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(1),o=n(6),s=n(2);let a=r.fileColumnRegistrar.getColumnConfig("clip.copy"),c=r.fileColumnRegistrar.getColumnConfig("clip.cut");o.enableNerdfont?(void 0===a&&(a=""),void 0===c&&(c="")):(void 0===a&&(a="C"),void 0===c&&(c="X"));const l=s.max([a.length,c.length])+1;a=a.padEnd(l," "),c=c.padEnd(l," ");const u=" ".repeat(l),d={clip:i.hlGroupManager.linkGroup("FileClip","Statement")},f=i.hlGroupManager.concealable("FileClip");r.fileColumnRegistrar.registerColumn("clip",e=>({concealable:f,async beforeDraw(){var t,n;0===e.copiedNodes.size&&0===e.cutNodes.size?null===(t=this.concealable)||void 0===t||t.requestHide():null===(n=this.concealable)||void 0===n||n.requestShow()},draw(t,n){const r=e.copiedNodes.has(n)?a:e.cutNodes.has(n)?c:u;t.add(r,d.clip)}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(96)),o=n(4),s={size:n(1).hlGroupManager.linkGroup("FileSize","Constant")};o.fileColumnRegistrar.registerColumn("size",()=>({draw(e,t){t.lstat?e.add(i.default(t.lstat.size).padStart(10),s.size):e.add(" ".repeat(10)),e.add(" ")}}))},function(e,t,n){"use strict";const r=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],i=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],o=(e,t)=>{let n=e;return"string"==typeof t?n=e.toLocaleString(t):!0===t&&(n=e.toLocaleString()),n};e.exports=(e,t)=>{if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);const n=(t=Object.assign({bits:!1},t)).bits?i:r;if(t.signed&&0===e)return" 0 "+n[0];const s=e<0,a=s?"-":t.signed?"+":"";if(s&&(e=-e),e<1){return a+o(e,t.locale)+" "+n[0]}const c=Math.min(Math.floor(Math.log10(e)/3),n.length-1);return e=Number((e/Math.pow(1e3,c)).toPrecision(3)),a+o(e,t.locale)+" "+n[c]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(1),o=n(6),s={readonly:i.hlGroupManager.linkGroup("FileReadonly","Operator")};r.fileColumnRegistrar.registerColumn("readonly",()=>({draw(e,t){t.readonly&&(e.add(t.readonly?o.enableNerdfont?"":"RO":"",s.readonly),e.add(" "))}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(1),s=r(n(21)),a={time:o.hlGroupManager.linkGroup("TimeModified","Identifier")};i.fileColumnRegistrar.registerColumn("modified",()=>({draw(e,t){t.lstat?e.add(s.default(t.lstat.mtime).format("YY/MM/DD HH:mm:ss"),a.time):e.add("                 "),e.add(" ")}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(1),s=r(n(21)),a={time:o.hlGroupManager.linkGroup("TimeCreated","Identifier")};i.fileColumnRegistrar.registerColumn("created",()=>({draw(e,t){t.lstat?e.add(s.default(t.lstat.ctime).format("YY/MM/DD HH:mm:ss"),a.time):e.add("                 "),e.add(" ")}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(1),s=r(n(21)),a={time:o.hlGroupManager.linkGroup("TimeAccessed","Identifier")};i.fileColumnRegistrar.registerColumn("accessed",()=>({draw(e,t){t.lstat?e.add(s.default(t.lstat.atime).format("YY/MM/DD HH:mm:ss"),a.time):e.add("                 "),e.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(1),o=n(40),s=n(2),a=n(0),c=s.config.get("file.diagnosticCountMax").toString().length,l={error:i.hlGroupManager.linkGroup("FileDiagnosticError","CocErrorSign")},u=i.hlGroupManager.concealable("FileDiagnosticError");r.fileColumnRegistrar.registerColumn("diagnosticError",(e,t)=>({concealable:u,init(){e.subscriptions.push(a.events.on("BufWritePost",s.debounce(1e3,async()=>{o.diagnosticManager.errorReload(e.root);const n=o.diagnosticManager.errorMixedCount,r=new Set;for(const[e,i]of Object.entries(n))if(e in t.prevDiagnosticError){if(t.prevDiagnosticError[e]===i)continue;delete t.prevDiagnosticError[e]}else r.add(e);for(const[e]of Object.keys(t.prevDiagnosticError))r.add(e);await e.renderPaths(r),t.prevDiagnosticError=n})))},reload(){o.diagnosticManager.errorReload(e.root)},beforeDraw(){var e,t;Object.keys(o.diagnosticManager.errorMixedCount).length?null===(e=this.concealable)||void 0===e||e.requestShow():null===(t=this.concealable)||void 0===t||t.requestHide()},draw(t,n,r){if(n.fullpath in o.diagnosticManager.errorMixedCount)if(n.directory&&e.expandStore.isExpanded(n))t.add(" ".padStart(c)),e.removeIndexes("diagnosticError",r);else{const i=o.diagnosticManager.errorMixedCount[n.fullpath];t.add(i.padStart(c),l.error),e.addIndexes("diagnosticError",r)}else t.add(" ".repeat(c)),e.removeIndexes("diagnosticError",r);t.add(" ")}}),()=>({prevDiagnosticError:{}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(1),o=n(40),s=n(2),a=n(0),c=s.config.get("file.diagnosticCountMax").toString().length,l={warning:i.hlGroupManager.linkGroup("FileDiagnosticWarning","CocWarningSign")},u=i.hlGroupManager.concealable("FileDiagnosticWarning");r.fileColumnRegistrar.registerColumn("diagnosticWarning",(e,t)=>({concealable:u,init(){e.subscriptions.push(a.events.on("BufWritePost",s.debounce(1e3,async()=>{o.diagnosticManager.warningReload(e.root);const n=o.diagnosticManager.warningMixedCount,r=new Set;for(const[e,i]of Object.entries(n))if(e in t.prevDiagnosticWarning){if(t.prevDiagnosticWarning[e]===i)continue;delete t.prevDiagnosticWarning[e]}else r.add(e);for(const[e]of Object.keys(t.prevDiagnosticWarning))r.add(e);await e.renderPaths(r),t.prevDiagnosticWarning=n})))},reload(){o.diagnosticManager.warningReload(e.root)},beforeDraw(){var e,t;Object.keys(o.diagnosticManager.warningMixedCount).length?null===(e=this.concealable)||void 0===e||e.requestShow():null===(t=this.concealable)||void 0===t||t.requestHide()},draw(t,n,r){if(n.fullpath in o.diagnosticManager.warningMixedCount)if(n.directory&&e.expandStore.isExpanded(n))t.add(" ".padStart(c)),e.removeIndexes("diagnosticWarning",r);else{const i=o.diagnosticManager.warningMixedCount[n.fullpath];t.add(i.padStart(c),l.warning),e.addIndexes("diagnosticWarning",r)}else t.add(" ".repeat(c)),e.removeIndexes("diagnosticWarning",r);t.add(" ")}}),()=>({prevDiagnosticWarning:{}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(13),o=n(0),s=n(28),a=r(n(12)),c=r(n(3)),l=r(n(104)),u=n(105),d=n(2);class f extends s.EventEmitter{constructor(){super(...arguments),this.processes=[]}start(e,t,n,r){let s=n.length;for(const d of n){const n=i.spawn(e,t,{cwd:d});this.processes.push(n),n.on("error",e=>{this.emit("error",e.message)});const f=l.default.createInterface(n.stdout),h=u.Range.create(0,0,0,0),p=r.length>0;n.stderr.on("data",e=>{console.error(e.toString("utf8"))}),f.on("line",e=>{const t=c.default.join(d,e);if(p&&r.some(e=>a.default(t,e)))return;const n=u.Location.create(o.Uri.file(t).toString(),h);this.emit("data",{label:e,location:n})}),f.on("close",()=>{0==(s-=1)&&this.emit("end")})}}dispose(){for(const e of this.processes)e.killed||e.kill()}}class h extends o.BasicList{constructor(e){super(e),this.name="explorerFiles",this.defaultAction="reveal",this.recursive=!1,this.showIgnore=!0,this.showHidden=!1,this.addLocationActions(),this.addAction("reveal",async e=>{const t=await this.convertLocation(e.location);this.revealCallback&&this.revealCallback(t)})}async getCommand(){const e=[];if(await d.executable("fd"))return e.push("--color","never"),this.showIgnore&&e.push("--no-ignore"),this.showHidden&&e.push("--hidden"),this.recursive||e.push("--max-depth","1"),{cmd:"fd",args:e};if(d.isWindows)return e.push("/a-D","/B"),this.recursive&&e.push("/S"),{cmd:"dir",args:e};if(await d.executable("find"))return e.push("."),this.recursive||e.push("-maxdepth","1"),{cmd:"find",args:e};throw new Error("Unable to find command for files list.")}async loadItems(e){if(!this.rootPath)return null;const t=await this.getCommand();if(!t)return null;const n=new f,r=this.getConfig().get("excludePatterns",[]);return n.start(t.cmd,t.args,[this.rootPath],r),n}}t.default=h,t.filesList=new h(o.workspace.nvim)},function(e,t){e.exports=require("readline")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(7);t.ErrorCodes=i.ErrorCodes,t.ResponseError=i.ResponseError,t.CancellationToken=i.CancellationToken,t.CancellationTokenSource=i.CancellationTokenSource,t.Disposable=i.Disposable,t.Event=i.Event,t.Emitter=i.Emitter,t.Trace=i.Trace,t.TraceFormat=i.TraceFormat,t.SetTraceNotification=i.SetTraceNotification,t.LogTraceNotification=i.LogTraceNotification,t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.MessageReader=i.MessageReader,t.MessageWriter=i.MessageWriter,t.ConnectionStrategy=i.ConnectionStrategy,t.StreamMessageReader=i.StreamMessageReader,t.StreamMessageWriter=i.StreamMessageWriter,t.IPCMessageReader=i.IPCMessageReader,t.IPCMessageWriter=i.IPCMessageWriter,t.createClientPipeTransport=i.createClientPipeTransport,t.createServerPipeTransport=i.createServerPipeTransport,t.generateRandomPipeName=i.generateRandomPipeName,t.createClientSocketTransport=i.createClientSocketTransport,t.createServerSocketTransport=i.createServerSocketTransport,r(n(112)),r(n(114)),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s;t.RequestType0=class extends s{constructor(e){super(e,0),this._=void 0}};t.RequestType=class extends s{constructor(e){super(e,1),this._=void 0}};t.RequestType1=class extends s{constructor(e){super(e,1),this._=void 0}};t.RequestType2=class extends s{constructor(e){super(e,2),this._=void 0}};t.RequestType3=class extends s{constructor(e){super(e,3),this._=void 0}};t.RequestType4=class extends s{constructor(e){super(e,4),this._=void 0}};t.RequestType5=class extends s{constructor(e){super(e,5),this._=void 0}};t.RequestType6=class extends s{constructor(e){super(e,6),this._=void 0}};t.RequestType7=class extends s{constructor(e){super(e,7),this._=void 0}};t.RequestType8=class extends s{constructor(e){super(e,8),this._=void 0}};t.RequestType9=class extends s{constructor(e){super(e,9),this._=void 0}};t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends s{constructor(e){super(e,0),this._=void 0}};t.NotificationType1=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType2=class extends s{constructor(e){super(e,2),this._=void 0}};t.NotificationType3=class extends s{constructor(e){super(e,3),this._=void 0}};t.NotificationType4=class extends s{constructor(e){super(e,4),this._=void 0}};t.NotificationType5=class extends s{constructor(e){super(e,5),this._=void 0}};t.NotificationType6=class extends s{constructor(e){super(e,6),this._=void 0}};t.NotificationType7=class extends s{constructor(e){super(e,7),this._=void 0}};t.NotificationType8=class extends s{constructor(e){super(e,8),this._=void 0}};t.NotificationType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),i=n(11);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this.cancel()}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={}));t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(18),o=n(110),s=n(41),a=n(22),c=n(23);t.generateRandomPipeName=function(){const e=o.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:r.join(i.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{let l=s.createServer(e=>{l.close(),n([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])});l.on("error",o),l.listen(e,()=>{l.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new c.SocketMessageWriter(n,t)]}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(22),o=n(23);t.createClientSocketTransport=function(e,t="utf-8"){let n,s=new Promise((e,t)=>{n=e});return new Promise((a,c)=>{let l=r.createServer(e=>{l.close(),n([new i.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])});l.on("error",c),l.listen(e,"127.0.0.1",()=>{l.removeListener("error",c),a({onConnected:()=>s})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},function(e,t,n){var r,i,o;!function(s){if("object"==typeof e.exports){var a=s(n(113),t);void 0!==a&&(e.exports=a)}else i=[n,t],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o)}((function(e,t){"use strict";var n,r,i,o,s,a,c,l,u,d,f,h,p;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return R.objectLiteral(t)&&R.number(t.line)&&R.number(t.character)}}(n=t.Position||(t.Position={})),function(e){e.create=function(e,t,r,i){if(R.number(e)&&R.number(t)&&R.number(r)&&R.number(i))return{start:n.create(e,t),end:n.create(r,i)};if(n.is(e)&&n.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+i+"]")},e.is=function(e){var t=e;return R.objectLiteral(t)&&n.is(t.start)&&n.is(t.end)}}(r=t.Range||(t.Range={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return R.defined(t)&&r.is(t.range)&&(R.string(t.uri)||R.undefined(t.uri))}}(i=t.Location||(t.Location={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return R.defined(t)&&r.is(t.targetRange)&&R.string(t.targetUri)&&(r.is(t.targetSelectionRange)||R.undefined(t.targetSelectionRange))&&(r.is(t.originSelectionRange)||R.undefined(t.originSelectionRange))}}(t.LocationLink||(t.LocationLink={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return R.number(t.red)&&R.number(t.green)&&R.number(t.blue)&&R.number(t.alpha)}}(o=t.Color||(t.Color={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return r.is(t.range)&&o.is(t.color)}}(t.ColorInformation||(t.ColorInformation={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return R.string(t.label)&&(R.undefined(t.textEdit)||l.is(t))&&(R.undefined(t.additionalTextEdits)||R.typedArray(t.additionalTextEdits,l.is))}}(t.ColorPresentation||(t.ColorPresentation={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return R.defined(n)&&(o.startCharacter=n),R.defined(r)&&(o.endCharacter=r),R.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return R.number(t.startLine)&&R.number(t.startLine)&&(R.undefined(t.startCharacter)||R.number(t.startCharacter))&&(R.undefined(t.endCharacter)||R.number(t.endCharacter))&&(R.undefined(t.kind)||R.string(t.kind))}}(t.FoldingRange||(t.FoldingRange={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return R.defined(t)&&i.is(t.location)&&R.string(t.message)}}(s=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(t.DiagnosticSeverity||(t.DiagnosticSeverity={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return R.defined(n)&&(s.severity=n),R.defined(r)&&(s.code=r),R.defined(i)&&(s.source=i),R.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t=e;return R.defined(t)&&r.is(t.range)&&R.string(t.message)&&(R.number(t.severity)||R.undefined(t.severity))&&(R.number(t.code)||R.string(t.code)||R.undefined(t.code))&&(R.string(t.source)||R.undefined(t.source))&&(R.undefined(t.relatedInformation)||R.typedArray(t.relatedInformation,s.is))}}(a=t.Diagnostic||(t.Diagnostic={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return R.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return R.defined(t)&&R.string(t.title)&&R.string(t.command)}}(c=t.Command||(t.Command={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return R.objectLiteral(t)&&R.string(t.newText)&&r.is(t.range)}}(l=t.TextEdit||(t.TextEdit={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return R.defined(t)&&g.is(t.textDocument)&&Array.isArray(t.edits)}}(u=t.TextDocumentEdit||(t.TextDocumentEdit={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&R.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||R.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||R.boolean(t.options.ignoreIfExists)))}}(d=t.CreateFile||(t.CreateFile={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&R.string(t.oldUri)&&R.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||R.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||R.boolean(t.options.ignoreIfExists)))}}(f=t.RenameFile||(t.RenameFile={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&R.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||R.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||R.boolean(t.options.ignoreIfNotExists)))}}(h=t.DeleteFile||(t.DeleteFile={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return R.string(e.kind)?d.is(e)||f.is(e)||h.is(e):u.is(e)})))}}(p=t.WorkspaceEdit||(t.WorkspaceEdit={}));var g,m,y,v,w=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(l.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(l.replace(e,t))},e.prototype.delete=function(e){this.edits.push(l.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),b=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(u.is(e)){var n=new w(e.edits);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new w(e.changes[n]);t._textEditChanges[n]=r})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(g.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new w(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new w(i),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(d.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(f.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(h.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();t.WorkspaceChange=b,function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return R.defined(t)&&R.string(t.uri)}}(t.TextDocumentIdentifier||(t.TextDocumentIdentifier={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return R.defined(t)&&R.string(t.uri)&&(null===t.version||R.number(t.version))}}(g=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return R.defined(t)&&R.string(t.uri)&&R.string(t.languageId)&&R.number(t.version)&&R.string(t.text)}}(t.TextDocumentItem||(t.TextDocumentItem={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(m=t.MarkupKind||(t.MarkupKind={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(m=t.MarkupKind||(t.MarkupKind={})),function(e){e.is=function(e){var t=e;return R.objectLiteral(e)&&m.is(t.kind)&&R.string(t.value)}}(y=t.MarkupContent||(t.MarkupContent={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(t.CompletionItemKind||(t.CompletionItemKind={})),function(e){e.PlainText=1,e.Snippet=2}(t.InsertTextFormat||(t.InsertTextFormat={})),function(e){e.create=function(e){return{label:e}}}(t.CompletionItem||(t.CompletionItem={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(t.CompletionList||(t.CompletionList={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return R.string(t)||R.objectLiteral(t)&&R.string(t.language)&&R.string(t.value)}}(v=t.MarkedString||(t.MarkedString={})),function(e){e.is=function(e){var t=e;return!!t&&R.objectLiteral(t)&&(y.is(t.contents)||v.is(t.contents)||R.typedArray(t.contents,v.is))&&(void 0===e.range||r.is(e.range))}}(t.Hover||(t.Hover={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(t.ParameterInformation||(t.ParameterInformation={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return R.defined(t)&&(i.documentation=t),R.defined(n)?i.parameters=n:i.parameters=[],i}}(t.SignatureInformation||(t.SignatureInformation={})),function(e){e.Text=1,e.Read=2,e.Write=3}(t.DocumentHighlightKind||(t.DocumentHighlightKind={})),function(e){e.create=function(e,t){var n={range:e};return R.number(t)&&(n.kind=t),n}}(t.DocumentHighlight||(t.DocumentHighlight={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(t.SymbolKind||(t.SymbolKind={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(t.SymbolInformation||(t.SymbolInformation={}));var E=function(){};t.DocumentSymbol=E,function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&R.string(t.name)&&R.number(t.kind)&&r.is(t.range)&&r.is(t.selectionRange)&&(void 0===t.detail||R.string(t.detail))&&(void 0===t.deprecated||R.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(E=t.DocumentSymbol||(t.DocumentSymbol={})),t.DocumentSymbol=E,function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(t.CodeActionKind||(t.CodeActionKind={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return R.defined(t)&&R.typedArray(t.diagnostics,a.is)&&(void 0===t.only||R.typedArray(t.only,R.string))}}(t.CodeActionContext||(t.CodeActionContext={})),function(e){e.create=function(e,t,n){var r={title:e};return c.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&R.string(t.title)&&(void 0===t.diagnostics||R.typedArray(t.diagnostics,a.is))&&(void 0===t.kind||R.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||c.is(t.command))&&(void 0===t.edit||p.is(t.edit))}}(t.CodeAction||(t.CodeAction={})),function(e){e.create=function(e,t){var n={range:e};return R.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return R.defined(t)&&r.is(t.range)&&(R.undefined(t.command)||c.is(t.command))}}(t.CodeLens||(t.CodeLens={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return R.defined(t)&&R.number(t.tabSize)&&R.boolean(t.insertSpaces)}}(t.FormattingOptions||(t.FormattingOptions={}));var x=function(){};t.DocumentLink=x,function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return R.defined(t)&&r.is(t.range)&&(R.undefined(t.target)||R.string(t.target))}}(x=t.DocumentLink||(t.DocumentLink={})),t.DocumentLink=x,t.EOL=["\n","\r\n","\r"],function(e){e.create=function(e,t,n,r){return new N(e,t,n,r)},e.is=function(e){var t=e;return!!(R.defined(t)&&R.string(t.uri)&&(R.undefined(t.languageId)||R.string(t.languageId))&&R.number(t.lineCount)&&R.func(t.getText)&&R.func(t.positionAt)&&R.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0;var i=t.slice(0,r);var o=t.slice(r);e(i,n);e(o,n);var s=0;var a=0;var c=0;for(;s<i.length&&a<o.length;){var l=n(i[s],o[a]);t[c++]=l<=0?i[s++]:o[a++]}for(;s<i.length;)t[c++]=i[s++];for(;a<o.length;)t[c++]=o[a++];return t}(t,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=n.length,o=r.length-1;o>=0;o--){var s=r[o],a=e.offsetAt(s.range.start),c=e.offsetAt(s.range.end);if(!(c<=i))throw new Error("Overlapping edit");n=n.substring(0,a)+s.newText+n.substring(c,n.length),i=a}return n}}(t.TextDocument||(t.TextDocument={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}));var R,N=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,i=t.length;if(0===i)return n.create(0,e);for(;r<i;){var o=Math.floor((r+i)/2);t[o]>e?i=o:r=o+1}var s=r-1;return n.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(R||(R={}))}))},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=113},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(115),i=n(7),o=n(116);t.ImplementationRequest=o.ImplementationRequest;const s=n(117);t.TypeDefinitionRequest=s.TypeDefinitionRequest;const a=n(118);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const c=n(119);t.ConfigurationRequest=c.ConfigurationRequest;const l=n(120);t.DocumentColorRequest=l.DocumentColorRequest,t.ColorPresentationRequest=l.ColorPresentationRequest;const u=n(121);t.FoldingRangeRequest=u.FoldingRangeRequest;const d=n(122);t.DeclarationRequest=d.DeclarationRequest,function(e){e.is=function(e){let t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(t.DocumentFilter||(t.DocumentFilter={})),function(e){e.type=new i.RequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.RequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.type=new i.RequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.NotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.RequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.NotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.NotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.NotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.RequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.NotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.NotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.type=new i.NotificationType("textDocument/didOpen")}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didChange")}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didClose")}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didSave")}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/willSave")}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.type=new i.RequestType("textDocument/willSaveWaitUntil")}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.NotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.NotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.type=new i.RequestType("textDocument/completion")}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.type=new i.RequestType("completionItem/resolve")}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/hover")}(t.HoverRequest||(t.HoverRequest={})),function(e){e.type=new i.RequestType("textDocument/signatureHelp")}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.type=new i.RequestType("textDocument/definition")}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.type=new i.RequestType("textDocument/references")}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.type=new i.RequestType("textDocument/documentHighlight")}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.type=new i.RequestType("textDocument/documentSymbol")}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.type=new i.RequestType("workspace/symbol")}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.RequestType("textDocument/codeAction")}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.type=new i.RequestType("textDocument/codeLens")}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new i.RequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/formatting")}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rangeFormatting")}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/onTypeFormatting")}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rename")}(t.RenameRequest||(t.RenameRequest={})),function(e){e.type=new i.RequestType("textDocument/prepareRename")}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.RequestType("textDocument/documentLink")}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new i.RequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.type=new i.RequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.RequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);!function(e){e.type=new r.RequestType("textDocument/implementation")}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);!function(e){e.type=new r.RequestType("textDocument/typeDefinition")}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);!function(e){e.type=new r.RequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.NotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);!function(e){e.type=new r.RequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);!function(e){e.type=new r.RequestType("textDocument/documentColor")}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.RequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.type=new r.RequestType("textDocument/foldingRange")}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);!function(e){e.type=new r.RequestType("textDocument/declaration")}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(3)),o=n(2),s=n(0),a=r(n(124)),c=n(125),l=n(36);t.initFileActions=function(e){const{nvim:t}=e;e.addAction("gotoParent",async()=>{e.root=i.default.dirname(e.root),e.expandStore.expand(e.rootNode),await e.reload(e.rootNode)},"change directory to parent directory",{multi:!1}),e.addRootAction("expand",async()=>{e.expanded=!0,await e.reload(e.rootNode)},"expand root node"),e.addRootAction("expandRecursive",async()=>{await e.expandNode(e.rootNode,{recursive:!0})},"expand root node recursively"),e.addRootAction("collapse",async()=>{e.expanded=!1,await e.reload(e.rootNode),await e.gotoRoot()},"collapse root node"),e.addRootAction("collapseRecursive",async()=>{e.expanded=!1,await e.collapseNode(e.rootNode),await e.gotoRoot()},"collapse root node recursively"),e.addNodeAction("cd",async t=>{t.directory&&(e.root=t.fullpath,e.expanded=!0,await e.reload(e.rootNode))},"change directory to current node",{multi:!1}),e.addNodeAction("open",async n=>{n.directory?o.config.get("openAction.changeDirectory")?await e.doAction("cd",n):await e.doAction("expandOrCollapse",n):await e.openAction(n,async r=>{await o.avoidOnBufEnter(async()=>{await e.nvim.command(`${r}wincmd w`)}),await t.command(`edit ${n.fullpath}`)})},"open file or directory",{multi:!1}),e.addNodeAction("openInSplit",async n=>{n.directory||(await t.command(`split ${n.fullpath}`),await e.quitOnOpen())},"open file via split command"),e.addNodeAction("openInVsplit",async n=>{n.directory||await o.execNotifyBlock(async()=>{t.command(`vsplit ${n.fullpath}`,!0),"left"===e.explorer.args.position?t.command("wincmd L",!0):"right"===e.explorer.args.position?t.command("wincmd H",!0):"tab"===e.explorer.args.position&&t.command("wincmd L",!0),await e.quitOnOpen()})},"open file via vsplit command"),e.addNodeAction("openInTab",async n=>{n.directory||(await e.quitOnOpen(),await t.command(`tabedit ${n.fullpath}`))},"open file in tab"),e.addNodeAction("drop",async n=>{n.directory?await e.doAction("expand",n):(await t.command(`drop ${n.fullpath}`),await e.quitOnOpen())},"open file via drop command"),e.addNodeAction("expand",async t=>{t.directory?await e.expandNode(t):await e.doAction("open",t)},"expand directory or open file"),e.addNodeAction("expandRecursive",async t=>{await e.expandNode(t,{recursive:!0})},"expand directory recursively"),e.addNodeAction("collapse",async t=>{t.directory&&e.expandStore.isExpanded(t)?await e.collapseNode(t):t.parent?await o.execNotifyBlock(async()=>{await e.collapseNode(t.parent,{notify:!0}),await e.gotoNode(t.parent,{notify:!0})}):await e.doRootAction("collapse")},"collapse directory"),e.addNodeAction("collapseRecursive",async t=>{t.directory&&e.expandStore.isExpanded(t)?await e.collapseNode(t,{recursive:!0}):t.parent?await o.execNotifyBlock(async()=>{await e.collapseNode(t.parent,{notify:!0,recursive:!0}),await e.gotoNode(t.parent,{notify:!0})}):await e.doRootAction("collapseRecursive")},"collapse directory recursively"),e.addNodeAction("expandOrCollapse",async t=>{t.directory&&(e.expandStore.isExpanded(t)?await e.doAction("collapse",t):await e.doAction("expand",t))},"expand or collapse directory"),e.addAction("copyFilepath",async t=>{await e.copy(t?t.map(e=>e.fullpath).join("\n"):e.root),s.workspace.showMessage("Copy filepath to clipboard")},"copy full filepath to clipboard"),e.addAction("copyFilename",async t=>{await e.copy(t?t.map(e=>e.name).join("\n"):i.default.basename(e.root)),s.workspace.showMessage("Copy filename to clipboard")},"copy filename to clipboard"),e.addNodesAction("copyFile",async t=>{const n=[...e.copiedNodes,...e.cutNodes];e.copiedNodes.clear(),e.cutNodes.clear(),t.forEach(t=>{e.copiedNodes.add(t)}),e.requestRenderNodes(n.concat(t))},"copy file for paste"),e.addNodesAction("cutFile",async t=>{const n=[...e.copiedNodes,...e.cutNodes];e.copiedNodes.clear(),e.cutNodes.clear(),t.forEach(t=>{e.cutNodes.add(t)}),e.requestRenderNodes(n.concat(t))},"cut file for paste"),e.addNodeAction("pasteFile",async t=>{const n=e.getPutTargetDir(t);if(e.copiedNodes.size>0){const r=Array.from(e.copiedNodes);await o.overwritePrompt(r.map(e=>({source:e.fullpath,target:i.default.join(n,i.default.basename(e.fullpath))})),o.fsCopyFileRecursive),e.requestRenderNodes(r),e.copiedNodes.clear(),await e.reload(t.parent?t.parent:t)}else if(e.cutNodes.size>0){const t=Array.from(e.cutNodes);await o.overwritePrompt(t.map(e=>({source:e.fullpath,target:i.default.join(n,i.default.basename(e.fullpath))})),o.fsRename),e.cutNodes.clear(),await e.reload(e.rootNode)}else s.workspace.showMessage("Copied files or cut files is empty","error")},"paste files to here",{multi:!1}),e.addNodesAction("delete",async e=>{const t=e.map(e=>e.fullpath).join("\n");"yes"===await o.prompt("Move these files or directories to trash?\n"+t)&&await o.fsTrash(e.map(e=>e.fullpath))},"move file or directory to trash",{reload:!0}),e.addNodesAction("deleteForever",async e=>{const t=e.map(e=>e.fullpath).join("\n");if("yes"===await o.prompt("Forever delete these files or directories?\n"+t))for(const t of e)await o.fsRimraf(t.fullpath)},"delete file or directory forever",{reload:!0}),e.addAction("addFile",async(n,r)=>{let s=null!=r?r:await t.call("input",["Input a new filename: ","","file"]);if(!(s=s.trim()))return;if(s.endsWith("/")||s.endsWith("\\"))return void(n?await e.doAction("addDirectory",n,s):await e.doRootAction("addDirectory",s));const a=e.getPutTargetNode(n?n[0]:null),c=i.default.join(a.fullpath,s);await o.overwritePrompt([{source:null,target:c}],async(e,t)=>{await o.fsTouch(t)}),await e.reload(a);const l=await e.revealNodeByPath(c,{node:a,render:!0});l&&await e.gotoNode(l)},"add a new file",{multi:!1}),e.addAction("addDirectory",async(n,r)=>{let s=null!=r?r:await t.call("input",["Input a new directory name: ","","file"]);if(!(s=s.trim().replace(/(\/|\\)*$/g,"")))return;const a=e.getPutTargetNode(n?n[0]:null),c=i.default.join(a.fullpath,s);await o.overwritePrompt([{source:null,target:c}],async(e,t)=>{await o.fsMkdirp(t)}),await e.reload(a);const l=await e.revealNodeByPath(c,{node:a,render:!0});l&&await e.gotoNode(l)},"add a new directory",{multi:!1}),e.addNodeAction("rename",async n=>{const r=await t.call("input",[`Rename: ${n.fullpath} ->`,n.fullpath,"file"]);0!=r.length&&(await o.overwritePrompt([{source:n.fullpath,target:r}],o.fsRename),await e.reload(e.rootNode))},"rename a file or directory",{multi:!1}),e.addAction("systemExecute",async t=>{t?await Promise.all(t.map(e=>a.default(e.fullpath))):await a.default(e.root)},"use system application open file or directory",{multi:!0}),o.isWindows&&e.addAction("listDrive",async()=>{const t=await o.listDrive();c.driveList.setExplorerDrives(t.map(t=>({name:t,callback:async t=>{e.root=t+"\\",e.expanded=!0,await e.reload(e.rootNode)}})));const n=s.listManager.registerList(c.driveList);await s.listManager.start(["--normal","--number-select",c.driveList.name]),n.dispose()},"list drives",{multi:!1}),e.addAction("search",async t=>{await e.searchByCocList(t?i.default.dirname(t[0].fullpath):e.root,!1)},"search by coc-list",{multi:!1}),e.addAction("searchRecursive",async t=>{await e.searchByCocList(t?i.default.dirname(t[0].fullpath):e.root,!0)},"search by coc-list recursively",{multi:!1}),e.addNodesAction("gitStage",async t=>{await l.gitManager.cmd.stage(...t.map(e=>e.fullpath)),await e.reload(e.rootNode)},"add file to git index"),e.addNodesAction("gitUnstage",async t=>{await l.gitManager.cmd.unstage(...t.map(e=>e.fullpath)),await e.reload(e.rootNode)},"reset file from git index")}},function(e,t){e.exports=require("open")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(8);class o extends r.BasicList{constructor(e){super(e),this.defaultAction="do",this.name="explorerDrives",this.explorerDrives=[],this.addAction("do",async e=>{await e.data.callback(e.data.drive)})}setExplorerDrives(e){this.explorerDrives=e}async loadItems(){return this.explorerDrives.map(e=>({label:`${e.name} - go to ${e.name}/`,data:{drive:e.name,callback:e.callback}}))}doHighlight(){const{nvim:e}=this;e.pauseNotification(),e.command("syntax match CocExplorerDriveName /\\v^[\\w:]+/",!0),e.command("syntax match CocExplorerDriveDescription /\\v - .+/",!0),e.command("highlight default link CocExplorerDriveName PreProc",!0),e.command("highlight default link CocExplorerDriveDescription Comment",!0),e.resumeNotification().catch(i.onError)}}t.DriveList=o,t.driveList=new o(r.workspace.nvim)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(0),{nvim:o}=i.workspace,s=["toggle","tab-isolate"],a=s.map(e=>"no-"+e);async function c(){let e=!1;if("nofile"===await o.getVar("&buftype"))e=!0;else{await o.call("bufname",["%"])||(e=!0)}return e?await o.call("getcwd",[]):i.workspace.rootPath}t.parseArgs=async function(e){const{nvim:t}=i.workspace,n={sources:r.config.get("sources"),toggle:r.config.get("toggle"),width:r.config.get("width"),position:r.config.get("position"),bufferColumns:r.config.get("buffer.columns"),fileColumns:r.config.get("file.columns"),rootPath:"",revealPath:""};for(;e.length>0;){const t=e.shift();if(t.startsWith("--")){let r,i;t.includes("=")?[r,i]=t.slice(2).split("=",2):(r=t.slice(2),s.includes(r)?i=!0:a.includes(r)?(r=r.slice(3),i=!1):e.length>0&&(i=e.shift())),void 0!==r&&void 0!==i?"sources"===r?n.sources=i.split(",").map(e=>{let t,n=!1;return e.endsWith("+")?(n=!0,t=e.slice(0,e.length-1)):e.endsWith("-")?(n=!1,t=e.slice(0,e.length-1)):t=e,{name:t,expand:n}}):"reveal"===r?n.revealPath=i:"toggle"===r?n.toggle=i:"width"===r?n.width=parseInt(i,10):"position"===r?n.position=i:"buffer-columns"===r?n.bufferColumns=i.split(","):"file-columns"===r&&(n.fileColumns=i.split(",")):n.rootPath=t}else n.rootPath=t}return n.revealPath||(n.revealPath=await t.call("expand","%:p")),n.rootPath||(n.rootPath=await c()),n.revealPath=r.normalizePath(n.revealPath),n.rootPath=r.normalizePath(n.rootPath),n}}]));