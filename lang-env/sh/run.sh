#!/bin/bash
# -----------------------------------------------------------------
# FileName: run.sh
# Date: 2020-01-09
# Author: jiftle
# Description: 
# -----------------------------------------------------------------
# set -e
# å¼•ç”¨è„šæœ¬
. ./conf.conf

# --------------- å®šä¹‰å˜é‡ ------------------
# GitPath="${HOME}/wrk-git"
# GitPath="/work/git"
echo "------------- è¿è¡Œ[${DockerKey}:${DockerVer}]é•œåƒçš„å®¹å™¨ ------------"

echo "  |--> åˆ é™¤Dockerå®ä¾‹ï¼Œ[${DockerName}] ..."
docker rm -f ${DockerKey}

echo "  |--> å¼€å§‹å¯åŠ¨Dockerå®ä¾‹ï¼Œ[${DockerName}] ..."

# ----------- è¿è¡Œå®¹å™¨ ------------
docker run -itd \
--name="${DockerKey}" \
-v ${HOME}/.ssh:/root/.ssh \
-h "${DockerKey}" \
--restart=always \
${DockerKey}:${DockerVer}

# docker run -itd \
# `# æ³¨é‡Šè¯·å¿½ç•¥ï¼Œ----------- è®¾ç½®åç§° -------------` \
# --name="devenv-vim" \
# `# æ³¨é‡Šè¯·å¿½ç•¥ï¼Œ----------- å·¥ä½œç›®å½•æ˜ å°„ -------------` \
# -w /home/john `# é»˜è®¤å·¥ä½œç›®å½•` \
# -v ${HOME}:/home/john `# é»˜è®¤å·¥ä½œç›®å½•ï¼Œæ˜ å°„` \
# -v ${GitPath}:/home/john/git `# gitä»“åº“ç›®å½•` \
# `# æ³¨é‡Šè¯·å¿½ç•¥ï¼Œ----------- ç”¨æˆ·å¯†é’¥ -------------` \
# -v ${HOME}/.ssh:/root/.ssh `# .sshå¯†é’¥` \
# `# æ³¨é‡Šè¯·å¿½ç•¥ï¼Œ----------- ç«¯å£æ˜ å°„ -------------` \
# -p 8001:8001 `# æ—¥å¿—ä»“åº“ï¼Œé¢„è§ˆæœåŠ¡` \
# -p 8080:8080 `# webç¨‹åºè°ƒè¯•ç«¯å£` \
# -p 8088:8088 `# webç¨‹åºè°ƒè¯•ç«¯å£` \
# `# æ³¨é‡Šè¯·å¿½ç•¥ï¼Œ----------- è§£å†³æ—¶åŒºé—®é¢˜ -------------` \
# `# -e TZ="CST"` \
# -h "devenv-vim" `# æœºå™¨å` \
# --restart=always `# è‡ªå¯åŠ¨ï¼Œå®¹æ˜“å¯¼è‡´æŒ‚è½½çš„åˆ†åŒºï¼Œæ™šäºdocker` \
# `# é•œåƒå` \
# jiftle/devenv-vim:latest
echo "  |--> å¯åŠ¨Docker[${DockerName}]å®Œæ¯•. ^_^ğŸ˜"

